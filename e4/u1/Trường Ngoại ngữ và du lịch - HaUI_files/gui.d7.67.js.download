/*vietlong.org 03/08/22 11:19:25*/
/*! iCheck v1.0.2 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */ !function(t){function e(t,e,n){var a=t[0],o=/er/.test(n)?_indeterminate:/bl/.test(n)?u:p,r=n==_update?{checked:a[p],disabled:a[u],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:a[o];if(/^(ch|di|in)/.test(n)&&!r)i(t,o);else if(/^(un|en|de)/.test(n)&&r)s(t,o);else if(n==_update)for(var l in r)r[l]?i(t,l,!0):s(t,l,!0);else e&&"toggle"!=n||(e||t[_callback]("ifClicked"),r?a[_type]!==d&&s(t,o):i(t,o))}function i(e,i,n){var g=e[0],f=e.parent(),m=i==p,v=i==_indeterminate,b=i==u,x=v?_determinate:m?c:"enabled",y=a(e,x+o(g[_type])),w=a(e,i+o(g[_type]));if(!0!==g[i]){if(!n&&i==p&&g[_type]==d&&g.name){var C=e.closest("form"),_='input[name="'+g.name+'"]';(_=C.length?C.find(_):t(_)).each((function(){this!==g&&t(this).data(l)&&s(t(this),i)}))}v?(g[i]=!0,g[p]&&s(e,p,"force")):(n||(g[i]=!0),m&&g[_indeterminate]&&s(e,_indeterminate,!1)),r(e,m,i,n)}g[u]&&a(e,_cursor,!0)&&f.find("."+h).css(_cursor,"default"),f[_add](w||a(e,i)||""),f.attr("role")&&!v&&f.attr("aria-"+(b?u:p),"true"),f[_remove](y||a(e,x)||"")}function s(t,e,i){var s=t[0],n=t.parent(),l=e==p,d=e==_indeterminate,g=e==u,f=d?_determinate:l?c:"enabled",m=a(t,f+o(s[_type])),v=a(t,e+o(s[_type]));!1!==s[e]&&(!d&&i&&"force"!=i||(s[e]=!1),r(t,l,f,i)),!s[u]&&a(t,_cursor,!0)&&n.find("."+h).css(_cursor,"pointer"),n[_remove](v||a(t,e)||""),n.attr("role")&&!d&&n.attr("aria-"+(g?u:p),"false"),n[_add](m||a(t,f)||"")}function n(e,i){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),i&&e[_callback](i),e.off(".i").unwrap(),t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function a(t,e,i){if(t.data(l))return t.data(l).o[e+(i?"":"Class")]}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function r(t,e,i,s){s||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+o(i)))}var l="iCheck",h=l+"-helper",d="radio",p="checked",c="un"+p,u="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),t.fn[l]=function(a,o){var r='input[type="checkbox"], input[type="'+d+'"]',c=t(),g=function(e){e.each((function(){var e=t(this);c=e.is(r)?c.add(e):c.add(e.find(r))}))};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(a))return a=a.toLowerCase(),g(this),c.each((function(){var i=t(this);"destroy"==a?n(i,"ifDestroyed"):e(i,!0,a),t.isFunction(o)&&o()}));if("object"!=typeof a&&a)return this;var f=t.extend({checkedClass:p,disabledClass:u,indeterminateClass:_indeterminate,labelHover:!0},a),m=f.handle,v=f.hoverClass||"hover",b=f.focusClass||"focus",x=f.activeClass||"active",y=!!f.labelHover,w=f.labelHoverClass||"hover",C=0|(""+f.increaseArea).replace("%","");return"checkbox"!=m&&m!=d||(r='input[type="'+m+'"]'),-50>C&&(C=-50),g(this),c.each((function(){var a=t(this);n(a);var o=this,r=o.id,c={position:"absolute",top:g=-C+"%",left:g,display:"block",width:c=100+2*C+"%",height:c,margin:0,padding:0,background:"#fff",border:0,opacity:0},g=_mobile?{position:"absolute",visibility:"hidden"}:C?c:{position:"absolute",opacity:0},m="checkbox"==o[_type]?f.checkboxClass||"icheckbox":f.radioClass||"i"+d,_=t(_label+'[for="'+r+'"]').add(a.closest(_label)),S=!!f.aria,R=l+"-"+Math.random().toString(36).substr(2,6),k='<div class="'+m+'" '+(S?'role="'+o[_type]+'" ':"");S&&_.each((function(){k+='aria-labelledby="',this.id?k+=this.id:(this.id=R,k+=R),k+='"'})),k=a.wrap(k+"/>")[_callback]("ifCreated").parent().append(f.insert),c=t('<ins class="'+h+'"/>').css(c).appendTo(k),a.data(l,{o:f,s:a.attr("style")}).css(g),f.inheritClass&&k[_add](o.className||""),f.inheritID&&r&&k.attr("id",l+"-"+r),"static"==k.css("position")&&k.css("position","relative"),e(a,!0,_update),_.length&&_.on(_click+".i mouseover.i mouseout.i "+_touch,(function(i){var s=i[_type],n=t(this);if(!o[u]){if(s==_click){if(t(i.target).is("a"))return;e(a,!1,!0)}else y&&(/ut|nd/.test(s)?(k[_remove](v),n[_remove](w)):(k[_add](v),n[_add](w)));if(!_mobile)return!1;i.stopPropagation()}})),a.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",(function(t){var e=t[_type];return t=t.keyCode,e!=_click&&("keydown"==e&&32==t?(o[_type]==d&&o[p]||(o[p]?s(a,p):i(a,p)),!1):void("keyup"==e&&o[_type]==d?!o[p]&&i(a,p):/us|ur/.test(e)&&k["blur"==e?_remove:_add](b)))})),c.on(_click+" mousedown mouseup mouseover mouseout "+_touch,(function(t){var i=t[_type],s=/wn|up/.test(i)?x:v;if(!o[u]){if(i==_click?e(a,!1,!0):(/wn|er|in/.test(i)?k[_add](s):k[_remove](s+" "+x),_.length&&y&&s==v&&_[/ut|nd/.test(i)?_remove:_add](w)),!_mobile)return!1;t.stopPropagation()}}))}))}}(window.djCore||window.Zepto),function(t,e,i){var s="metisMenu",n={toggle:!0,doubleTapToGo:!1};function a(e,i){this.element=e,this.settings=t.extend({},n,i),this._defaults=n,this._name=s,this.init()}a.prototype={init:function(){var e=t(this.element),s=this.settings.toggle,n=this;this.isIE()<=9?(e.find("li.active").has("ul").children("ul").collapse("show"),e.find("li").not(".active").has("ul").children("ul").collapse("hide")):(e.find("li.active").has("ul").children("ul").addClass("collapse in"),e.find("li").not(".active").has("ul").children("ul").addClass("collapse")),n.settings.doubleTapToGo&&e.find("li.active").has("ul").children("a").addClass("doubleTapToGo"),e.find("li").has("ul").children("a").on("click",(function(e){if(e.preventDefault(),n.settings.doubleTapToGo&&n.doubleTapToGo(t(this))&&"#"!==t(this).attr("href")&&""!==t(this).attr("href"))return e.stopPropagation(),void(i.location=t(this).attr("href"));t(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),s&&t(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")}))},isIE:function(){for(var t=3,e=i.createElement("div"),s=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",s[0];)return t>4?t:undefined},doubleTapToGo:function(e){var i=t(this.element);return e.hasClass("doubleTapToGo")?(e.removeClass("doubleTapToGo"),!0):e.parent().children("ul").length?(i.find(".doubleTapToGo").removeClass("doubleTapToGo"),e.addClass("doubleTapToGo"),!1):void 0}},t.fn.metisMenu=function(e){return this.each((function(){t.data(this,"plugin_metisMenu")||t.data(this,"plugin_metisMenu",new a(this,e))})),this}}(djCore,window,document),function(t,e,i,s){var n="ontouchstart"in i,a=function(){var t=i.createElement("div"),s=i.documentElement;if(!("pointerEvents"in t.style))return!1;t.style.pointerEvents="auto",t.style.pointerEvents="x",s.appendChild(t);var n=e.getComputedStyle&&"auto"===e.getComputedStyle(t,"").pointerEvents;return s.removeChild(t),!!n}(),o={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};function r(e,s){this.w=t(i),this.el=t(e),this.options=t.extend({},o,s),this.init()}r.prototype={init:function(){var i=this;i.reset(),i.el.data("nestable-group",this.options.group),i.placeEl=t('<div class="'+i.options.placeClass+'"/>'),t.each(this.el.find(i.options.itemNodeName),(function(e,s){i.setParent(t(s))})),i.el.on("click","button",(function(e){if(!i.dragEl){var s=t(e.currentTarget),n=s.data("action"),a=s.parent(i.options.itemNodeName);"collapse"===n&&i.collapseItem(a),"expand"===n&&i.expandItem(a)}}));var s=function(e){var s=t(e.target);if(!s.hasClass(i.options.handleClass)){if(s.closest("."+i.options.noDragClass).length)return;s=s.closest("."+i.options.handleClass)}s.length&&!i.dragEl&&(i.isTouch=/^touch/.test(e.type),i.isTouch&&1!==e.touches.length||(e.preventDefault(),i.dragStart(e.touches?e.touches[0]:e)))},a=function(t){i.dragEl&&(t.preventDefault(),i.dragMove(t.touches?t.touches[0]:t))},o=function(t){i.dragEl&&(t.preventDefault(),i.dragStop(t.touches?t.touches[0]:t))};n&&(i.el[0].addEventListener("touchstart",s,!1),e.addEventListener("touchmove",a,!1),e.addEventListener("touchend",o,!1),e.addEventListener("touchcancel",o,!1)),i.el.on("mousedown",s),i.w.on("mousemove",a),i.w.on("mouseup",o)},serialize:function(){var e=this;return step=function(i,s){var n=[];return i.children(e.options.itemNodeName).each((function(){var i=t(this),a=t.extend({},i.data()),o=i.children(e.options.listNodeName);o.length&&(a.children=step(o,s+1)),n.push(a)})),n},step(e.el.find(e.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(t){t.removeClass(this.options.collapsedClass),t.children('[data-action="expand"]').hide(),t.children('[data-action="collapse"]').show(),t.children(this.options.listNodeName).show()},collapseItem:function(t){t.children(this.options.listNodeName).length&&(t.addClass(this.options.collapsedClass),t.children('[data-action="collapse"]').hide(),t.children('[data-action="expand"]').show(),t.children(this.options.listNodeName).hide())},expandAll:function(){var e=this;e.el.find(e.options.itemNodeName).each((function(){e.expandItem(t(this))}))},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each((function(){e.collapseItem(t(this))}))},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(t(this.options.expandBtnHTML)),e.prepend(t(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(t){t.removeClass(this.options.collapsedClass),t.children("[data-action]").remove(),t.children(this.options.listNodeName).remove()},dragStart:function(e){var n=this.mouse,a=t(e.target),o=a.closest(this.options.itemNodeName);this.placeEl.css("height",o.height()),n.offsetX=e.offsetX!==s?e.offsetX:e.pageX-a.offset().left,n.offsetY=e.offsetY!==s?e.offsetY:e.pageY-a.offset().top,n.startX=n.lastX=e.pageX,n.startY=n.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=t(i.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",o.width()),o.after(this.placeEl),o[0].parentNode.removeChild(o[0]),o.appendTo(this.dragEl),t(i.body).append(this.dragEl),this.dragEl.css({left:e.pageX-n.offsetX,top:e.pageY-n.offsetY});var r,l,h=this.dragEl.find(this.options.itemNodeName);for(r=0;r<h.length;r++)(l=t(h[r]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=l)},dragStop:function(t){var e=this.dragEl.children(this.options.itemNodeName).first();e[0].parentNode.removeChild(e[0]),this.placeEl.replaceWith(e),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(s){var n,o,r,l=this.options,h=this.mouse;this.dragEl.css({left:s.pageX-h.offsetX,top:s.pageY-h.offsetY}),h.lastX=h.nowX,h.lastY=h.nowY,h.nowX=s.pageX,h.nowY=s.pageY,h.distX=h.nowX-h.lastX,h.distY=h.nowY-h.lastY,h.lastDirX=h.dirX,h.lastDirY=h.dirY,h.dirX=0===h.distX?0:h.distX>0?1:-1,h.dirY=0===h.distY?0:h.distY>0?1:-1;var d=Math.abs(h.distX)>Math.abs(h.distY)?1:0;if(!h.moving)return h.dirAx=d,void(h.moving=!0);h.dirAx!==d?(h.distAxX=0,h.distAxY=0):(h.distAxX+=Math.abs(h.distX),0!==h.dirX&&h.dirX!==h.lastDirX&&(h.distAxX=0),h.distAxY+=Math.abs(h.distY),0!==h.dirY&&h.dirY!==h.lastDirY&&(h.distAxY=0)),h.dirAx=d,h.dirAx&&h.distAxX>=l.threshold&&(h.distAxX=0,r=this.placeEl.prev(l.itemNodeName),h.distX>0&&r.length&&!r.hasClass(l.collapsedClass)&&(n=r.find(l.listNodeName).last(),this.placeEl.parents(l.listNodeName).length+this.dragDepth<=l.maxDepth&&(n.length?(n=r.children(l.listNodeName).last()).append(this.placeEl):((n=t("<"+l.listNodeName+"/>").addClass(l.listClass)).append(this.placeEl),r.append(n),this.setParent(r)))),h.distX<0&&(this.placeEl.next(l.itemNodeName).length||(o=this.placeEl.parent(),this.placeEl.closest(l.itemNodeName).after(this.placeEl),o.children().length||this.unsetParent(o.parent()))));var p=!1;if(a||(this.dragEl[0].style.visibility="hidden"),this.pointEl=t(i.elementFromPoint(s.pageX-i.body.scrollLeft,s.pageY-(e.pageYOffset||i.documentElement.scrollTop))),a||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(l.handleClass)&&(this.pointEl=this.pointEl.parent(l.itemNodeName)),this.pointEl.hasClass(l.emptyClass))p=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(l.itemClass))return;var c=this.pointEl.closest("."+l.rootClass),u=this.dragRootEl.data("nestable-id")!==c.data("nestable-id");if(!h.dirAx||u||p){if(u&&l.group!==c.data("nestable-group"))return;if(this.dragDepth-1+this.pointEl.parents(l.listNodeName).length>l.maxDepth)return;var g=s.pageY<this.pointEl.offset().top+this.pointEl.height()/2;o=this.placeEl.parent(),p?((n=t(i.createElement(l.listNodeName)).addClass(l.listClass)).append(this.placeEl),this.pointEl.replaceWith(n)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),o.children().length||this.unsetParent(o.parent()),this.dragRootEl.find(l.itemNodeName).length||this.dragRootEl.append('<div class="'+l.emptyClass+'"/>'),u&&(this.dragRootEl=c,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},t.fn.nestable=function(e){var i=this;return this.each((function(){var s=t(this).data("nestable");s?"string"==typeof e&&"function"==typeof s[e]&&(i=s[e]()):(t(this).data("nestable",new r(this,e)),t(this).data("nestable-id",(new Date).getTime()))})),i||this}}(window.djCore||window.Zepto,window,document),function(t,e,i,s){var n=function(i,s){return t(e.createElementNS("http://www.w3.org/2000/svg",i)).attr(s)},a="createElementNS"in e&&n("svg",{})[0].createSVGRect,o=t.fn.peity=function(e,i){return a&&this.each((function(){var s=t(this),n=s.data("_peity");n?(e&&(n.type=e),t.extend(n.opts,i)):(n=new r(s,e,t.extend({},o.defaults[e],s.data("peity"),i)),s.change((function(){n.draw()})).data("_peity",n)),n.draw()})),this},r=function(t,e,i){this.djel=t,this.type=e,this.opts=i},l=r.prototype;l.draw=function(){o.graphers[this.type].call(this,this.opts)},l.fill=function(){var e=this.opts.fill;return t.isFunction(e)?e:function(t,i){return e[i%e.length]}},l.prepare=function(t,e){return this.djsvg||this.djel.hide().after(this.djsvg=n("svg",{class:"peity"})),this.djsvg.empty().data("peity",this).attr({height:e,width:t})},l.values=function(){return t.map(this.djel.text().split(this.opts.delimiter),(function(t){return parseFloat(t)}))},o.defaults={},o.graphers={},o.register=function(t,e,i){this.defaults[t]=e,this.graphers[t]=i},o.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},(function(e){if(!e.delimiter){var s=this.djel.text().match(/[^0-9\.]/);e.delimiter=s?s[0]:","}if(s=t.map(this.values(),(function(t){return 0<t?t:0})),"/"==e.delimiter)s=[o=s[0],i.max(0,s[1]-o)];for(var a=0,o=s.length,r=0;a<o;a++)r+=s[a];r||(o=2,r=1,s=[0,1]);var l=2*e.radius,h=(a=(l=this.prepare(e.width||l,e.height||l)).width(),l.height()),d=a/2,p=h/2;h=i.min(d,p),e=e.innerRadius;"donut"==this.type&&!e&&(e=.5*h);var c=i.PI,u=this.fill(),g=this.scale=function(t,e){var s=t/r*c*2-c/2;return[e*i.cos(s)+d,e*i.sin(s)+p]},f=0;for(a=0;a<o;a++){var m=s[a];if(0!=(x=m/r)){if(1==x)if(e)var v=p-h,b=p-e,x=n("path",{d:["M",d,v,"A",h,h,0,1,1,x=d-.01,v,"L",x,b,"A",e,e,0,1,0,d,b].join(" ")});else x=n("circle",{cx:d,cy:p,r:h});else v=f+m,b=["M"].concat(g(f,h),"A",h,h,0,.5<x?1:0,1,g(v,h),"L"),e?b=b.concat(g(v,e),"A",e,e,0,.5<x?1:0,0,g(f,e)):b.push(d,p),f+=m,x=n("path",{d:b.join(" ")});x.attr("fill",u.call(this,m,a,s)),l.append(x)}}})),o.register("donut",t.extend(!0,{},o.defaults.pie),(function(t){o.graphers.pie.call(this,t)})),o.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},(function(t){var e=this.values();1==e.length&&e.push(e[0]);for(var a=i.max.apply(i,t.max==s?e:e.concat(t.max)),o=i.min.apply(i,t.min==s?e:e.concat(t.min)),r=this.prepare(t.width,t.height),l=t.strokeWidth,h=r.width(),d=r.height()-l,p=a-o,c=(a=this.x=function(t){return t*(h/(e.length-1))},this.y=function(t){var e=d;return p&&(e-=(t-o)/p*d),e+l/2}),u=c(i.max(o,0)),g=[0,u],f=0;f<e.length;f++)g.push(a(f),c(e[f]));g.push(h,u),r.append(n("polygon",{fill:t.fill,points:g.join(" ")})),l&&r.append(n("polyline",{fill:"transparent",points:g.slice(2,g.length-2).join(" "),stroke:t.stroke,"stroke-width":l,"stroke-linecap":"square"}))})),o.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:.1,width:32},(function(t){for(var e=this.values(),a=i.max.apply(i,t.max==s?e:e.concat(t.max)),o=i.min.apply(i,t.min==s?e:e.concat(t.min)),r=this.prepare(t.width,t.height),l=r.width(),h=r.height(),d=a-o,p=(t=t.padding,this.fill()),c=this.x=function(t){return t*l/e.length},u=this.y=function(t){return h-(d?(t-o)/d*h:1)},g=0;g<e.length;g++){var f,m=c(g+t),v=c(g+1-t)-m,b=e[g],x=u(b),y=x;d?0>b?y=u(i.min(a,0)):x=u(i.max(o,0)):f=1,0==(f=x-y)&&(f=1,0<a&&d&&y--),r.append(n("rect",{fill:p.call(this,b,g,e),x:m,y:y,width:v,height:f}))}}))}(djCore,document,Math),function(t){var e=t.document,i=t.djCore;function s(t){t&&t.printPage?t.printPage():setTimeout((function(){s(t)}),50)}i.fn.printElement=function(n){var a=i.extend({},i.fn.printElement.defaults,n);return"iframe"===a.printMode&&(i.browser.opera||/chrome/.test(navigator.userAgent.toLowerCase()))&&(a.printMode="popup"),i("[id^='printElement_']").remove(),this.each((function(){var n=i.meta?i.extend({},a,i(this).data()):a;!function(n,a){var o=function(s,n){i(s);var a=function(t){var e=i(t);return i(":checked",e).each((function(){this.setAttribute("checked","checked")})),i("input[type='text']",e).each((function(){this.setAttribute("value",i(this).val())})),i("select",e).each((function(){var t=i(this);i("option",t).each((function(){t.val()===i(this).val()&&this.setAttribute("selected","selected")}))})),i("textarea",e).each((function(){var t=i(this).attr("value");i.browser.mozilla&&this.firstChild?this.firstChild.textContent=t:this.innerHTML=t})),i("<div></div>").append(e.clone()).html()}(s),o=new Array;if(o.push("<html><head><title>"+n.pageTitle+"</title>"),n.overrideElementCSS){if(n.overrideElementCSS.length>0)for(var r=0;r<n.overrideElementCSS.length;r++){var l=n.overrideElementCSS[r];if(i.isString(l))o.push('<link type="text/css" rel="stylesheet" href="'+l+'" />');else{var h=void 0===l.media?"":' media="'+l.media+'"';o.push('<link type="text/css" rel="stylesheet" href="'+l.href+'"'+h+" />")}}}else i("link",e).filter((function(){return"stylesheet"===i(this).attr("rel").toLowerCase()})).each((function(){var t=i(this),e=void 0===t.attr("media")?"":' media="'+t.attr("media")+'"';o.push('<link type="text/css" rel="stylesheet" href="'+t.attr("href")+'"'+e+" />")}));return o.push('<base href="'+function(){var e=t.location.port?":"+t.location.port:"";return t.location.protocol+"//"+t.location.hostname+e+t.location.pathname}()+'" />'),o.push('</head><body style="'+n.printBodyOptions.styleToAdd+'" class="'+n.printBodyOptions.classNameToAdd+'">'),o.push(a),o.push('<script type="text/javascript">function printPage(){focus();print();'+(i.browser.opera||n.leaveOpen||"popup"!==n.printMode.toLowerCase()?"":"close();")+"}<\/script>"),o.push("</body></html>"),o.join("")}(n,a),r=null,l=null;if(o=a.callback(o),"popup"===a.printMode.toLowerCase())l=(r=t.open("about:blank","printElementWindow","width=650,height=440,scrollbars=yes")).document;else{var h="printElement_"+Math.round(99999*Math.random()).toString(),d=e.createElement("IFRAME");i(d).attr({style:a.iframeElementOptions.styleToAdd,id:h,className:a.iframeElementOptions.classNameToAdd,frameBorder:0,scrolling:"no",src:"about:blank"}),e.body.appendChild(d),(l=d.contentWindow||d.contentDocument).document&&(l=l.document),r=(d=e.frames?e.frames[h]:e.getElementById(h)).contentWindow||d}focus(),l.open(),l.write(o),l.close(),s(r)}(i(this),n)}))},i.fn.printElement.defaults={printMode:"iframe",pageTitle:"",overrideElementCSS:null,callback:function(t){return t},printBodyOptions:{styleToAdd:"padding:10px;margin:10px;",classNameToAdd:""},leaveOpen:!1,iframeElementOptions:{styleToAdd:"border:none;position:absolute;width:0px;height:0px;bottom:0px;left:0px;",classNameToAdd:""}},i.fn.printElement.cssElement={href:"",media:""}}(window), /*! Copyright (c) 2011 Piotr Rochala (http://rocha.la) * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses. * * Version: 1.3.3 * */ function(e){e.fn.extend({slimScroll:function(i){var s=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each((function(){function n(t){if(h){var i=0;(t=t||window.event).wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+s.wrapperClass).is(b.parent())&&a(i,!0),t.preventDefault&&!v&&t.preventDefault(),v||(t.returnValue=!1)}}function a(t,e,i){v=!1;var n=t,a=b.outerHeight()-y.outerHeight();e&&(n=parseInt(y.css("top"))+t*parseInt(s.wheelStep)/100*y.outerHeight(),n=Math.min(Math.max(n,0),a),n=0<t?Math.ceil(n):Math.floor(n),y.css({top:n+"px"})),n=(f=parseInt(y.css("top"))/(b.outerHeight()-y.outerHeight()))*(b[0].scrollHeight-b.outerHeight()),i&&(t=(n=t)/b[0].scrollHeight*b.outerHeight(),t=Math.min(Math.max(t,0),a),y.css({top:t+"px"})),b.scrollTop(n),b.trigger("slimscrolling",~~n),r(),l()}function o(){g=Math.max(b.outerHeight()/b[0].scrollHeight*b.outerHeight(),30),y.css({height:g+"px"});var t=g==b.outerHeight()?"none":"block";y.css({display:t})}function r(){o(),clearTimeout(c),f==~~f?(v=s.allowPageScroll,m!=f&&b.trigger("slimscroll",0==~~f?"top":"bottom")):v=!1,m=f,g>=b.outerHeight()?v=!0:(y.stop(!0,!0).fadeIn("fast"),s.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function l(){s.alwaysVisible||(c=setTimeout((function(){s.disableFadeOut&&h||d||p||(y.fadeOut("slow"),w.fadeOut("slow"))}),1e3))}var h,d,p,c,u,g,f,m,v=!1,b=e(this);if(b.parent().hasClass(s.wrapperClass)){var x=b.scrollTop(),y=b.parent().find("."+s.barClass),w=b.parent().find("."+s.railClass);if(o(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){b.parent().css("height","auto"),b.css("height","auto");var C=b.parent().parent().height();b.parent().css("height",C),b.css("height",C)}if("scrollTo"in i)x=parseInt(s.scrollTo);else if("scrollBy"in i)x+=parseInt(s.scrollBy);else if("destroy"in i)return y.remove(),w.remove(),void b.unwrap();a(x,!1,!0)}}else if(!e.isPlainObject(i)||!("destroy"in i)){s.height="auto"==s.height?b.parent().height():s.height,x=e("<div></div>").addClass(s.wrapperClass).css({position:"relative",overflow:"hidden",width:s.width,height:s.height}),b.css({overflow:"hidden",width:s.width,height:s.height});w=e("<div></div>").addClass(s.railClass).css({width:s.size,height:"100%",position:"absolute",top:0,display:s.alwaysVisible&&s.railVisible?"block":"none","border-radius":s.railBorderRadius,background:s.railColor,opacity:s.railOpacity,zIndex:90}),y=e("<div></div>").addClass(s.barClass).css({background:s.color,width:s.size,position:"absolute",top:0,opacity:s.opacity,display:s.alwaysVisible?"block":"none","border-radius":s.borderRadius,BorderRadius:s.borderRadius,MozBorderRadius:s.borderRadius,WebkitBorderRadius:s.borderRadius,zIndex:99}),C="right"==s.position?{right:s.distance}:{left:s.distance};w.css(C),y.css(C),b.wrap(x),b.parent().append(y),b.parent().append(w),s.railDraggable&&y.bind("mousedown",(function(i){var s=e(document);return p=!0,t=parseFloat(y.css("top")),pageY=i.pageY,s.bind("mousemove.slimscroll",(function(e){currTop=t+e.pageY-pageY,y.css("top",currTop),a(0,y.position().top,!1)})),s.bind("mouseup.slimscroll",(function(t){p=!1,l(),s.unbind(".slimscroll")})),!1})).bind("selectstart.slimscroll",(function(t){return t.stopPropagation(),t.preventDefault(),!1})),w.hover((function(){r()}),(function(){l()})),y.hover((function(){d=!0}),(function(){d=!1})),b.hover((function(){h=!0,r(),l()}),(function(){h=!1,l()})),b.bind("touchstart",(function(t,e){t.originalEvent.touches.length&&(u=t.originalEvent.touches[0].pageY)})),b.bind("touchmove",(function(t){v||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(a((u-t.originalEvent.touches[0].pageY)/s.touchScrollStep,!0),u=t.originalEvent.touches[0].pageY)})),o(),"bottom"===s.start?(y.css({top:b.outerHeight()-y.outerHeight()}),a(0,!0)):"top"!==s.start&&(a(e(s.start).position().top,null,!0),s.alwaysVisible||y.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",n,!1),this.addEventListener("mousewheel",n,!1)):document.attachEvent("onmousewheel",n)}()}})),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(djCore),function(t,e,i){var s;s=function(s){"use strict";var n,a,o,r,l,h,d,p,c,u,g,f,m,v,b,x,y,w,C,_,S,R,k,T,M,E,j,H,N,I={},D=0;n=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new o("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new o("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new o("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},a=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=s.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),s.extend.apply(s,e))):t.prototype=arguments[0],t.prototype.cls=t,t},s.SPFormatClass=o=a({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,s){var n,a,o,r,l,h=this,d=t;return this.format.replace(this.fre,(function(){return a=arguments[1],o=arguments[3],(n=h.precre.exec(a))?(l=n[2],a=n[1]):l=!1,(r=d[a])===i?"":o&&e&&e[o]?e[o].get?e[o].get(r)||r:e[o][r]||r:(c(r)&&(r=s.get("numberFormatter")?s.get("numberFormatter")(r):m(r,l,s.get("numberDigitGroupCount"),s.get("numberDigitGroupSep"),s.get("numberDecimalMark"))),r)}))}}),s.spformat=function(t,e){return new o(t,e)},r=function(t,e,i){return t<e?e:t>i?i:t},l=function(t,i){var s;return 2===i?(s=e.floor(t.length/2),t.length%2?t[s]:(t[s-1]+t[s])/2):t.length%2?(s=(t.length*i+i)/4)%1?(t[e.floor(s)]+t[e.floor(s)-1])/2:t[s-1]:(s=(t.length*i+2)/4)%1?(t[e.floor(s)]+t[e.floor(s)-1])/2:t[s-1]},h=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},d=function(t){var e,i=[];for(e=t.length;e--;)i[e]=h(t[e]);return i},p=function(t,e){var i,s,n=[];for(i=0,s=t.length;i<s;i++)t[i]!==e&&n.push(t[i]);return n},c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(t,e,i,n,a){var o,r;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(o=(o=s.inArray(".",t))<0?t.length:o)<t.length&&(t[o]=a),r=o-i;r>0;r-=i)t.splice(r,0,n);return t.join("")},u=function(t,e,i){var s;for(s=e.length;s--;)if((!i||null!==e[s])&&e[s]!==t)return!1;return!0},f=function(t){return s.isArray(t)?t:[t]},g=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:((i=t.createElement("style")).type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},s.fn.simpledraw=function(e,n,a,o){var r,l;if(a&&(r=this.data("_jqs_vcanvas")))return r;if(!1===s.fn.sparkline.canvas)return!1;if(s.fn.sparkline.canvas===i){var h=t.createElement("canvas");if(h.getContext&&h.getContext("2d"))s.fn.sparkline.canvas=function(t,e,i,s){return new j(t,e,i,s)};else{if(!t.namespaces||t.namespaces.v)return s.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),s.fn.sparkline.canvas=function(t,e,i,s){return new H(t,e,i)}}}return e===i&&(e=s(this).innerWidth()),n===i&&(n=s(this).innerHeight()),r=s.fn.sparkline.canvas(e,n,this,o),(l=s(this).data("_jqs_mhandler"))&&l.registerCanvas(r),r},s.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},s.RangeMapClass=v=a({init:function(t){var e,i,s=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&((i=e.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],s.push(i));this.map=t,this.rangelist=s||!1},get:function(t){var e,s,n,a=this.rangelist;if((n=this.map[t])!==i)return n;if(a)for(e=a.length;e--;)if((s=a[e])[0]<=t&&s[1]>=t)return s[2];return i}}),s.range_map=function(t){return new v(t)},b=a({init:function(t,e){var i=s(t);this.djel=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=s(t.canvas);this.canvas=t,this.djcanvas=e,e.mouseenter(s.proxy(this.mouseenter,this)),e.mouseleave(s.proxy(this.mouseleave,this)),e.click(s.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=s.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.djel.trigger(e)},mouseenter:function(e){s(t.body).unbind("mousemove.jqs"),s(t.body).bind("mousemove.jqs",s.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new x(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){s(t.body).unbind("mousemove.jqs");var e,i=this.splist,n=i.length,a=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;e<n;e++)i[e].clearRegionHighlight()&&(a=!0);a&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,n,a=this.splist,o=a.length,r=!1,l=this.djcanvas.offset(),h=this.currentPageX-l.left,d=this.currentPageY-l.top;if(this.over){for(e=0;e<o;e++)(i=a[e].setRegionHighlight(this.currentEl,h,d))&&(r=!0);if(r){if((n=s.Event("sparklineRegionChange")).sparklines=this.splist,this.djel.trigger(n),this.tooltip){for(t="",e=0;e<o;e++)t+=a[e].getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===i&&this.mouseleave()}}}),x=a({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,n=e.get("tooltipClassname","jqstooltip"),a=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),s("#jqssizetip").remove(),s("#jqstooltip").remove(),this.sizetip=s("<div/>",{id:"jqssizetip",style:a,class:n}),this.tooltip=s("<div/>",{id:"jqstooltip",class:n}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,s(window).unbind("resize.jqs scroll.jqs"),s(window).bind("resize.jqs scroll.jqs",s.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=s(window).scrollTop(),this.scrollLeft=s(window).scrollLeft(),this.scrollRight=this.scrollLeft+s(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,s(window).unbind("resize.jqs scroll.jqs")}}),s((function(){g('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')})),N=[],s.fn.sparkline=function(e,n){return this.each((function(){var a,o,r=new s.fn.sparkline.options(this,n),l=s(this);if(a=function(){var n,a,o,h,d,p,c;"html"===e||e===i?((c=this.getAttribute(r.get("tagValuesAttribute")))!==i&&null!==c||(c=l.html()),n=c.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=e,a="auto"===r.get("width")?n.length*r.get("defaultPixelsPerValue"):r.get("width"),"auto"===r.get("height")?r.get("composite")&&s.data(this,"_jqs_vcanvas")||((h=t.createElement("span")).innerHTML="a",l.html(h),o=s(h).innerHeight()||s(h).height(),s(h).remove(),h=null):o=r.get("height"),r.get("disableInteraction")?d=!1:(d=s.data(this,"_jqs_mhandler"))?r.get("composite")||d.reset():(d=new b(this,r),s.data(this,"_jqs_mhandler",d)),!r.get("composite")||s.data(this,"_jqs_vcanvas")?((p=new(s.fn.sparkline[r.get("type")])(this,n,r,a,o)).render(),d&&d.registerSparkline(p)):s.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),s.data(this,"_jqs_errnotify",!0))},s(this).html()&&!r.get("disableHiddenCheck")&&s(this).is(":hidden")||!s(this).parents("body").length){if(!r.get("composite")&&s.data(this,"_jqs_pending"))for(o=N.length;o;o--)N[o-1][0]==this&&N.splice(o-1,1);N.push([this,a]),s.data(this,"_jqs_pending",!0)}else a.call(this)}))},s.fn.sparkline.defaults=n(),s.sparkline_display_visible=function(){var t,e,i,n=[];for(e=0,i=N.length;e<i;e++)t=N[e][0],s(t).is(":visible")&&!s(t).parents().is(":hidden")?(N[e][1].call(t),s.data(N[e][0],"_jqs_pending",!1),n.push(e)):s(t).closest("html").length||s.data(t,"_jqs_pending")||(s.data(N[e][0],"_jqs_pending",!1),n.push(e));for(e=n.length;e;e--)N.splice(n[e-1],1)},s.fn.sparkline.options=a({init:function(t,e){var i,n,a,o;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},a=(n=s.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||a.tagOptionsPrefix),i=(o=this.getTagSetting("type"))===I?n[e.type||a.type]:n[o],this.mergedOptions=s.extend({},a,i,e)},getTagSetting:function(t){var e,s,n,a,o=this.tagOptionsPrefix;if(!1===o||o===i)return I;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(o+t))===i||null===e)e=I;else if("["===e.substr(0,1))for(s=(e=e.substr(1,e.length-2).split(",")).length;s--;)e[s]=h(e[s].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(n=e.substr(1,e.length-2).split(","),e={},s=n.length;s--;)e[(a=n[s].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=h(a[1].replace(/(^\s*)|(\s*$)/g,""));else e=h(e);this.tagValCache.key=e}return e},get:function(t,e){var s,n=this.getTagSetting(t);return n!==I?n:(s=this.mergedOptions[t])===i?e:s}}),s.fn.sparkline._base=a({disabled:!1,init:function(t,e,n,a,o){this.el=t,this.djel=s(t),this.values=e,this.options=n,this.width=a,this.height=o,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.djel.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,s){var n,a=this.currentRegion,o=!this.options.get("disableHighlight");return e>this.canvasWidth||s>this.canvasHeight||e<0||s<0?null:a!==(n=this.getRegion(t,e,s))&&(a!==i&&o&&this.removeHighlight(),this.currentRegion=n,n!==i&&o&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==i&&(this.removeHighlight(),this.currentRegion=i,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,n,a,r,l,h,d,p,c,u,g,f,m,v=this.options,b="",x=[];if(this.currentRegion===i)return"";if(t=this.getCurrentRegionFields(),u=v.get("tooltipFormatter"))return u(this,v,t);if(v.get("tooltipChartTitle")&&(b+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(s.isArray(e)||(e=[e]),s.isArray(t)||(t=[t]),h=this.options.get("tooltipFormatFieldlist"),d=this.options.get("tooltipFormatFieldlistKey"),h&&d){for(p=[],l=t.length;l--;)c=t[l][d],-1!=(m=s.inArray(c,h))&&(p[m]=t[l]);t=p}for(n=e.length,f=t.length,l=0;l<n;l++)for("string"==typeof(g=e[l])&&(g=new o(g)),a=g.fclass||"jqsfield",m=0;m<f;m++)t[m].isNull&&v.get("tooltipSkipNull")||(s.extend(t[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),r=g.render(t[m],v.get("tooltipValueLookups"),v),x.push('<div class="'+a+'">'+r+"</div>"));return x.length?b+x.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var s,n,a,o,l=i.get("highlightColor"),h=i.get("highlightLighten");if(l)return l;if(h&&(s=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(a=[],n=4===t.length?16:1,o=0;o<3;o++)a[o]=r(e.round(parseInt(s[o+1],16)*n*h),0,255);return"rgb("+a.join(",")+")"}return t}}),y={changeHighlight:function(t){var e,i=this.currentRegion,n=this.target,a=this.regionShapes[i];a&&(e=this.renderRegion(i,t),s.isArray(e)||s.isArray(a)?(n.replaceWithShapes(a,e),this.regionShapes[i]=s.map(e,(function(t){return t.id}))):(n.replaceWithShape(a,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,n,a=this.values,o=this.target,r=this.regionShapes;if(this.cls._super.render.call(this)){for(i=a.length;i--;)if(t=this.renderRegion(i))if(s.isArray(t)){for(e=[],n=t.length;n--;)t[n].append(),e.push(t[n].id);r[i]=e}else t.append(),r[i]=t.id;else r[i]=null;o.render()}}},s.fn.sparkline.line=w=a(s.fn.sparkline._base,{type:"line",init:function(t,e,i,s,n){w._super.init.call(this,t,e,i,s,n),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,s){var n,a=this.regionMap;for(n=a.length;n--;)if(null!==a[n]&&e>=a[n][0]&&e<=a[n][1])return a[n][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,s=this.currentRegion,n=this.target,a=this.vertices[s],o=this.options,r=o.get("spotRadius"),l=o.get("highlightSpotColor"),h=o.get("highlightLineColor");a&&(r&&l&&(t=n.drawCircle(a[0],a[1],r,i,l),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),h&&(e=n.drawLine(a[0],this.canvasTop,a[0],this.canvasTop+this.canvasHeight,h),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,s,n,a,o=this.values,r=o.length,l=this.xvalues,h=this.yvalues,d=this.yminmax;for(t=0;t<r;t++)i=o[t],s="string"==typeof o[t],n="object"==typeof o[t]&&o[t]instanceof Array,a=s&&o[t].split(":"),s&&2===a.length?(l.push(Number(a[0])),h.push(Number(a[1])),d.push(Number(a[1]))):n?(l.push(i[0]),h.push(i[1]),d.push(i[1])):(l.push(t),null===o[t]||"null"===o[t]?h.push(null):(h.push(Number(i)),d.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,d),this.miny=this.minyorg=e.min.apply(e,d),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=h,this.yminmax=d},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),s=t.get("normalRangeMax");e!==i&&(e<this.miny&&(this.miny=e),s>this.maxy&&(this.maxy=s)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,s,n,a,o){var r=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),h=s+e.round(n-n*((l-this.miny)/o)),d=e.round(n*(l-r)/o);this.target.drawRect(t,h,a,d,i,this.options.get("normalRangeColor")).append()},render:function(){var t,n,a,o,r,l,h,d,p,c,u,g,f,m,b,x,y,C,_,S,R,k,T,M,E=this.options,j=this.target,H=this.canvasWidth,N=this.canvasHeight,I=this.vertices,D=E.get("spotRadius"),A=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),k=this.xvalues,T=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(o=r=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,n=this.maxy-this.miny==0?1:this.maxy-this.miny,a=this.yvalues.length-1,D&&(H<4*D||N<4*D)&&(D=0),D&&(((S=E.get("highlightSpotColor")&&!E.get("disableInteraction"))||E.get("minSpotColor")||E.get("spotColor")&&T[a]===this.miny)&&(N-=e.ceil(D)),(S||E.get("maxSpotColor")||E.get("spotColor")&&T[a]===this.maxy)&&(N-=e.ceil(D),o+=e.ceil(D)),(S||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(T[0]===this.miny||T[0]===this.maxy))&&(r+=e.ceil(D),H-=e.ceil(D)),(S||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(T[a]===this.miny||T[a]===this.maxy))&&(H-=e.ceil(D))),N--,E.get("normalRangeMin")===i||E.get("drawNormalOnTop")||this.drawNormalRange(r,o,N,H,n),d=[h=[]],f=m=null,b=T.length,M=0;M<b;M++)p=k[M],u=k[M+1],c=T[M],m=(g=r+e.round((p-this.minx)*(H/t)))+((M<b-1?r+e.round((u-this.minx)*(H/t)):H)-g)/2,A[M]=[f||0,m,M],f=m,null===c?M&&(null!==T[M-1]&&(h=[],d.push(h)),I.push(null)):(c<this.miny&&(c=this.miny),c>this.maxy&&(c=this.maxy),h.length||h.push([g,o+N]),l=[g,o+e.round(N-N*((c-this.miny)/n))],h.push(l),I.push(l));for(x=[],y=[],C=d.length,M=0;M<C;M++)(h=d[M]).length&&(E.get("fillColor")&&(h.push([h[h.length-1][0],o+N]),y.push(h.slice(0)),h.pop()),h.length>2&&(h[0]=[h[0][0],h[1][1]]),x.push(h));for(C=y.length,M=0;M<C;M++)j.drawShape(y[M],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==i&&E.get("drawNormalOnTop")&&this.drawNormalRange(r,o,N,H,n),C=x.length,M=0;M<C;M++)j.drawShape(x[M],E.get("lineColor"),i,E.get("lineWidth")).append();if(D&&E.get("valueSpots"))for((_=E.get("valueSpots")).get===i&&(_=new v(_)),M=0;M<b;M++)(R=_.get(T[M]))&&j.drawCircle(r+e.round((k[M]-this.minx)*(H/t)),o+e.round(N-N*((T[M]-this.miny)/n)),D,i,R).append();D&&E.get("spotColor")&&null!==T[a]&&j.drawCircle(r+e.round((k[k.length-1]-this.minx)*(H/t)),o+e.round(N-N*((T[a]-this.miny)/n)),D,i,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(D&&E.get("minSpotColor")&&(p=k[s.inArray(this.minyorg,T)],j.drawCircle(r+e.round((p-this.minx)*(H/t)),o+e.round(N-N*((this.minyorg-this.miny)/n)),D,i,E.get("minSpotColor")).append()),D&&E.get("maxSpotColor")&&(p=k[s.inArray(this.maxyorg,T)],j.drawCircle(r+e.round((p-this.minx)*(H/t)),o+e.round(N-N*((this.maxyorg-this.miny)/n)),D,i,E.get("maxSpotColor")).append())),this.lastShapeId=j.getLastShapeId(),this.canvasTop=o,j.render()}}}),s.fn.sparkline.bar=C=a(s.fn.sparkline._base,y,{type:"bar",init:function(t,n,a,o,l){var c,u,g,f,m,b,x,y,w,_,S,R,k,T,M,E,j,H,N,I,D,A=parseInt(a.get("barWidth"),10),L=parseInt(a.get("barSpacing"),10),W=a.get("chartRangeMin"),P=a.get("chartRangeMax"),O=a.get("chartRangeClip"),X=1/0,B=-1/0;for(C._super.init.call(this,t,n,a,o,l),b=0,x=n.length;b<x;b++)((c="string"==typeof(I=n[b])&&I.indexOf(":")>-1)||s.isArray(I))&&(M=!0,c&&(I=n[b]=d(I.split(":"))),I=p(I,null),(u=e.min.apply(e,I))<X&&(X=u),(g=e.max.apply(e,I))>B&&(B=g));this.stacked=M,this.regionShapes={},this.barWidth=A,this.barSpacing=L,this.totalBarWidth=A+L,this.width=o=n.length*A+(n.length-1)*L,this.initTarget(),O&&(k=W===i?-1/0:W,T=P===i?1/0:P),m=[],f=M?[]:m;var Y=[],q=[];for(b=0,x=n.length;b<x;b++)if(M)for(E=n[b],n[b]=N=[],Y[b]=0,f[b]=q[b]=0,j=0,H=E.length;j<H;j++)null!==(I=N[j]=O?r(E[j],k,T):E[j])&&(I>0&&(Y[b]+=I),X<0&&B>0?I<0?q[b]+=e.abs(I):f[b]+=I:f[b]+=e.abs(I-(I<0?B:X)),m.push(I));else I=O?r(n[b],k,T):n[b],null!==(I=n[b]=h(I))&&m.push(I);this.max=R=e.max.apply(e,m),this.min=S=e.min.apply(e,m),this.stackMax=B=M?e.max.apply(e,Y):R,this.stackMin=X=M?e.min.apply(e,m):S,a.get("chartRangeMin")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMin")<S)&&(S=a.get("chartRangeMin")),a.get("chartRangeMax")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMax")>R)&&(R=a.get("chartRangeMax")),this.zeroAxis=w=a.get("zeroAxis",!0),_=S<=0&&R>=0&&w?0:0==w||S>0?S:R,this.xaxisOffset=_,y=M?e.max.apply(e,f)+e.max.apply(e,q):R-S,this.canvasHeightEf=w&&S<0?this.canvasHeight-2:this.canvasHeight-1,S<_?(D=((M&&R>=0?B:R)-_)/y*this.canvasHeight)!==e.ceil(D)&&(this.canvasHeightEf-=2,D=e.ceil(D)):D=this.canvasHeight,this.yoffset=D,s.isArray(a.get("colorMap"))?(this.colorMapByIndex=a.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=a.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new v(this.colorMapByValue))),this.range=y},getRegion:function(t,s,n){var a=e.floor(s/this.totalBarWidth);return a<0||a>=this.values.length?i:a},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,s=f(this.values[i]),n=[];for(e=s.length;e--;)t=s[e],n.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return n},calcColor:function(t,e,n){var a,o,r=this.colorMapByIndex,l=this.colorMapByValue,h=this.options;return a=this.stacked?h.get("stackedBarColor"):e<0?h.get("negBarColor"):h.get("barColor"),0===e&&h.get("zeroColor")!==i&&(a=h.get("zeroColor")),l&&(o=l.get(e))?a=o:r&&r.length>n&&(a=r[n]),s.isArray(a)?a[t%a.length]:a},renderRegion:function(t,n){var a,o,r,l,h,d,p,c,g,f,m=this.values[t],v=this.options,b=this.xaxisOffset,x=[],y=this.range,w=this.stacked,C=this.target,_=t*this.totalBarWidth,S=this.canvasHeightEf,R=this.yoffset;if(p=(m=s.isArray(m)?m:[m]).length,c=m[0],l=u(null,m),f=u(b,m,!0),l)return v.get("nullColor")?(r=n?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),a=R>0?R-1:R,C.drawRect(_,a,this.barWidth-1,0,r,r)):i;for(h=R,d=0;d<p;d++){if(c=m[d],w&&c===b){if(!f||g)continue;g=!0}o=y>0?e.floor(S*(e.abs(c-b)/y))+1:1,c<b||c===b&&0===R?(a=h,h+=o):(a=R-o,R-=o),r=this.calcColor(d,c,t),n&&(r=this.calcHighlightColor(r,v)),x.push(C.drawRect(_,a,this.barWidth-1,o-1,r,r))}return 1===x.length?x[0]:x}}),s.fn.sparkline.tristate=_=a(s.fn.sparkline._base,y,{type:"tristate",init:function(t,e,n,a,o){var r=parseInt(n.get("barWidth"),10),l=parseInt(n.get("barSpacing"),10);_._super.init.call(this,t,e,n,a,o),this.regionShapes={},this.barWidth=r,this.barSpacing=l,this.totalBarWidth=r+l,this.values=s.map(e,Number),this.width=a=e.length*r+(e.length-1)*l,s.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new v(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,s){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,s=this.values,n=this.options,a=this.colorMapByIndex,o=this.colorMapByValue;return o&&(i=o.get(t))?i:a&&a.length>e?a[e]:s[e]<0?n.get("negBarColor"):s[e]>0?n.get("posBarColor"):n.get("zeroBarColor")},renderRegion:function(t,i){var s,n,a,o,r,l,h=this.values,d=this.options,p=this.target;if(s=p.pixelHeight,a=e.round(s/2),o=t*this.totalBarWidth,h[t]<0?(r=a,n=a-1):h[t]>0?(r=0,n=a-1):(r=a-1,n=2),null!==(l=this.calcColor(h[t],t)))return i&&(l=this.calcHighlightColor(l,d)),p.drawRect(o,r,this.barWidth-1,n-1,l,l)}}),s.fn.sparkline.discrete=S=a(s.fn.sparkline._base,y,{type:"discrete",init:function(t,n,a,o,r){S._super.init.call(this,t,n,a,o,r),this.regionShapes={},this.values=n=s.map(n,Number),this.min=e.min.apply(e,n),this.max=e.max.apply(e,n),this.range=this.max-this.min,this.width=o="auto"===a.get("width")?2*n.length:this.width,this.interval=e.floor(o/n.length),this.itemWidth=o/n.length,a.get("chartRangeMin")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.min)&&(this.min=a.get("chartRangeMin")),a.get("chartRangeMax")!==i&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.max)&&(this.max=a.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===a.get("lineHeight")?e.round(.3*this.canvasHeight):a.get("lineHeight"))},getRegion:function(t,i,s){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var s,n,a,o,l=this.values,h=this.options,d=this.min,p=this.max,c=this.range,u=this.interval,g=this.target,f=this.canvasHeight,m=this.lineHeight,v=f-m;return n=r(l[t],d,p),o=t*u,s=e.round(v-v*((n-d)/c)),a=h.get("thresholdColor")&&n<h.get("thresholdValue")?h.get("thresholdColor"):h.get("lineColor"),i&&(a=this.calcHighlightColor(a,h)),g.drawLine(o,s,o,s+m,a)}}),s.fn.sparkline.bullet=R=a(s.fn.sparkline._base,{type:"bullet",init:function(t,s,n,a,o){var r,l,h;R._super.init.call(this,t,s,n,a,o),this.values=s=d(s),(h=s.slice())[0]=null===h[0]?h[2]:h[0],h[1]=null===s[1]?h[2]:h[1],r=e.min.apply(e,s),l=e.max.apply(e,s),r=n.get("base")===i?r<0?r:0:n.get("base"),this.min=r,this.max=l,this.range=l-r,this.shapes={},this.valueShapes={},this.regiondata={},this.width=a="auto"===n.get("width")?"4.0em":a,this.target=this.djel.simpledraw(a,o,n.get("composite")),s.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,s){var n=this.target.getShapeAt(t,e,s);return n!==i&&this.shapes[n]!==i?this.shapes[n]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,s=this.valueShapes[i];switch(delete this.shapes[s],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(s,e)},renderRange:function(t,i){var s=this.values[t],n=e.round(this.canvasWidth*((s-this.min)/this.range)),a=this.options.get("rangeColors")[t-2];return i&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,a,a)},renderPerformance:function(t){var i=this.values[1],s=e.round(this.canvasWidth*((i-this.min)/this.range)),n=this.options.get("performanceColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),s-1,e.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(t){var i=this.values[0],s=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),n=e.round(.1*this.canvasHeight),a=this.canvasHeight-2*n,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(s,n,this.options.get("targetWidth")-1,a-1,o,o)},render:function(){var t,e,i=this.values.length,s=this.target;if(R._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),s.render()}}}),s.fn.sparkline.pie=k=a(s.fn.sparkline._base,{type:"pie",init:function(t,i,n,a,o){var r,l=0;if(k._super.init.call(this,t,i,n,a,o),this.shapes={},this.valueShapes={},this.values=i=s.map(i,Number),"auto"===n.get("width")&&(this.width=this.height),i.length>0)for(r=i.length;r--;)l+=i[r];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,s){var n=this.target.getShapeAt(t,e,s);return n!==i&&this.shapes[n]!==i?this.shapes[n]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),s=this.valueShapes[e];delete this.shapes[s],this.target.replaceWithShape(s,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,s){var n,a,o,r,l,h=this.target,d=this.options,p=this.radius,c=d.get("borderWidth"),u=d.get("offset"),g=2*e.PI,f=this.values,m=this.total,v=u?2*e.PI*(u/360):0;for(r=f.length,o=0;o<r;o++){if(n=v,a=v,m>0&&(a=v+g*(f[o]/m)),t===o)return l=d.get("sliceColors")[o%d.get("sliceColors").length],s&&(l=this.calcHighlightColor(l,d)),h.drawPieSlice(p,p,p-c,n,a,i,l);v=a}},render:function(){var t,s,n=this.target,a=this.values,o=this.options,r=this.radius,l=o.get("borderWidth");if(k._super.render.call(this)){for(l&&n.drawCircle(r,r,e.floor(r-l/2),o.get("borderColor"),i,l).append(),s=a.length;s--;)a[s]&&(t=this.renderSlice(s).append(),this.valueShapes[s]=t.id,this.shapes[t.id]=s);n.render()}}}),s.fn.sparkline.box=T=a(s.fn.sparkline._base,{type:"box",init:function(t,e,i,n,a){T._super.init.call(this,t,e,i,n,a),this.values=s.map(e,Number),this.width="auto"===i.get("width")?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,s,n,a,o,r,h,d,p,c,u,g=this.target,f=this.values,m=f.length,v=this.options,b=this.canvasWidth,x=this.canvasHeight,y=v.get("chartRangeMin")===i?e.min.apply(e,f):v.get("chartRangeMin"),w=v.get("chartRangeMax")===i?e.max.apply(e,f):v.get("chartRangeMax"),C=0;if(T._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&f.length>5?(s=f[0],t=f[1],a=f[2],o=f[3],r=f[4],h=f[5],d=f[6]):(t=f[0],a=f[1],o=f[2],r=f[3],h=f[4]);else if(f.sort((function(t,e){return t-e})),a=l(f,1),o=l(f,2),n=(r=l(f,3))-a,v.get("showOutliers")){for(t=h=i,p=0;p<m;p++)t===i&&f[p]>a-n*v.get("outlierIQR")&&(t=f[p]),f[p]<r+n*v.get("outlierIQR")&&(h=f[p]);s=f[0],d=f[m-1]}else t=f[0],h=f[m-1];this.quartiles=[a,o,r],this.lwhisker=t,this.rwhisker=h,this.loutlier=s,this.routlier=d,u=b/(w-y+1),v.get("showOutliers")&&(C=e.ceil(v.get("spotRadius")),u=(b-=2*e.ceil(v.get("spotRadius")))/(w-y+1),s<t&&g.drawCircle((s-y)*u+C,x/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),d>h&&g.drawCircle((d-y)*u+C,x/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),g.drawRect(e.round((a-y)*u+C),e.round(.1*x),e.round((r-a)*u),e.round(.8*x),v.get("boxLineColor"),v.get("boxFillColor")).append(),g.drawLine(e.round((t-y)*u+C),e.round(x/2),e.round((a-y)*u+C),e.round(x/2),v.get("lineColor")).append(),g.drawLine(e.round((t-y)*u+C),e.round(x/4),e.round((t-y)*u+C),e.round(x-x/4),v.get("whiskerColor")).append(),g.drawLine(e.round((h-y)*u+C),e.round(x/2),e.round((r-y)*u+C),e.round(x/2),v.get("lineColor")).append(),g.drawLine(e.round((h-y)*u+C),e.round(x/4),e.round((h-y)*u+C),e.round(x-x/4),v.get("whiskerColor")).append(),g.drawLine(e.round((o-y)*u+C),e.round(.1*x),e.round((o-y)*u+C),e.round(.9*x),v.get("medianColor")).append(),v.get("target")&&(c=e.ceil(v.get("spotRadius")),g.drawLine(e.round((v.get("target")-y)*u+C),e.round(x/2-c),e.round((v.get("target")-y)*u+C),e.round(x/2+c),v.get("targetColor")).append(),g.drawLine(e.round((v.get("target")-y)*u+C-c),e.round(x/2),e.round((v.get("target")-y)*u+C+c),e.round(x/2),v.get("targetColor")).append()),g.render()}}}),M=a({init:function(t,e,i,s){this.target=t,this.id=e,this.type=i,this.args=s},append:function(){return this.target.appendShape(this),this}}),E=a({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),s.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,s,n,a){return this.drawShape([[t,e],[i,s]],n,a)},drawShape:function(t,e,i,s){return this._genShape("Shape",[t,e,i,s])},drawCircle:function(t,e,i,s,n,a){return this._genShape("Circle",[t,e,i,s,n,a])},drawPieSlice:function(t,e,i,s,n,a,o){return this._genShape("PieSlice",[t,e,i,s,n,a,o])},drawRect:function(t,e,i,s,n,a){return this._genShape("Rect",[t,e,i,s,n,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){s(e).html(t)},_calculatePixelDims:function(t,e,i){var n;n=this._pxregex.exec(e),this.pixelHeight=n?n[1]:s(i).height(),n=this._pxregex.exec(t),this.pixelWidth=n?n[1]:s(i).width()},_genShape:function(t,e){var i=D++;return e.unshift(i),new M(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),j=a(E,{init:function(e,n,a,o){j._super.init.call(this,e,n,a),this.canvas=t.createElement("canvas"),a[0]&&(a=a[0]),s.data(a,"_jqs_vcanvas",this),s(this.canvas).css({display:"inline-block",width:e,height:n,verticalAlign:"top"}),this._insert(this.canvas,a),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,s(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,s){var n=this.canvas.getContext("2d");return t!==i&&(n.strokeStyle=t),n.lineWidth=s===i?1:s,e!==i&&(n.fillStyle=e),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,s,n,a){var o,r,l=this._getContext(s,n,a);for(l.beginPath(),l.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,r=e.length;o<r;o++)l.lineTo(e[o][0]+.5,e[o][1]+.5);s!==i&&l.stroke(),n!==i&&l.fill(),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,s,n,a,o,r,l){var h=this._getContext(o,r,l);h.beginPath(),h.arc(s,n,a,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),o!==i&&h.stroke(),r!==i&&h.fill()},_drawPieSlice:function(t,e,s,n,a,o,r,l){var h=this._getContext(r,l);h.beginPath(),h.moveTo(e,s),h.arc(e,s,n,a,o,!1),h.lineTo(e,s),h.closePath(),r!==i&&h.stroke(),l&&h.fill(),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,s,n,a,o){return this._drawShape(t,[[e,i],[e+s,i],[e+s,i+n],[e,i+n],[e,i]],a,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,s=this.shapeseq;for(this.shapes[e.id]=e,i=s.length;i--;)s[i]==t&&(s[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,s,n,a=this.shapeseq,o={};for(s=t.length;s--;)o[t[s]]=!0;for(s=a.length;s--;)o[i=a[s]]&&(a.splice(s,1),delete this.shapes[i],n=s);for(s=e.length;s--;)a.splice(n,0,e[s].id),this.shapes[e[s].id]=e[s]},insertAfterShape:function(t,e){var i,s=this.shapeseq;for(i=s.length;i--;)if(s[i]===t)return s.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i=this.shapeseq,s=this.shapes,n=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;e<n;e++)this["_draw"+(t=s[i[e]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),H=a(E,{init:function(e,i,n){var a;H._super.init.call(this,e,i,n),n[0]&&(n=n[0]),s.data(n,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),s(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,a='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",a),this.group=s(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,s,n,a){var o,r,l,h,d,p,c=[];for(p=0,d=e.length;p<d;p++)c[p]=e[p][0]+","+e[p][1];return o=c.splice(0,1),a=a===i?1:a,r=s===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+s+'" ',l=n===i?' filled="false"':' fillColor="'+n+'" filled="true" ',h=c[0]===c[c.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" id="jqsshape'+t+'" '+r+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" path="m '+o+" l "+c.join(", ")+" "+h+'e"> </v:shape>'},_drawCircle:function(t,e,s,n,a,o,r){return'<v:oval id="jqsshape'+t+'" '+(a===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+a+'" ')+(o===i?' filled="false"':' fillColor="'+o+'" filled="true" ')+' style="position:absolute;top:'+(s-=n)+"px; left:"+(e-=n)+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(t,s,n,a,o,r,l,h){var d,p,c,u,g,f,m;if(o===r)return"";if(r-o==2*e.PI&&(o=0,r=2*e.PI),p=s+e.round(e.cos(o)*a),c=n+e.round(e.sin(o)*a),u=s+e.round(e.cos(r)*a),g=n+e.round(e.sin(r)*a),p===u&&c===g){if(r-o<e.PI)return"";p=u=s+a,c=g=n}return p===u&&c===g&&r-o<e.PI?"":(d=[s-a,n-a,s+a,n+a,p,c,u,g],f=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" id="jqsshape'+t+'" '+f+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" path="m '+s+","+n+" wa "+d.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,s,n,a,o){return this._drawShape(t,[[e,i],[e,i+n],[e+s,i+n],[e+s,i],[e,i]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=s("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=n},replaceWithShapes:function(t,e){var i,n=s("#jqsshape"+t[0]),a="",o=e.length;for(i=0;i<o;i++)a+=this["_draw"+e[i].type].apply(this,e[i].args);for(n[0].outerHTML=a,i=1;i<t.length;i++)s("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=s("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(t){var e=s("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["djCore"],s):djCore&&!djCore.fn.sparkline&&s(djCore)}(document,Math);var dLoading=function(){var t="f_loading_message",e=null;return dj(document).ready((function(){var i=document.createElement("DIV");i.id=t,i.style.display="none",i.className="loadingView",i.innerHTML='<p><b><b><b> <img src="'+djConfig.CDN_URL+'dgrs/img/loading.gif" class="loading" alt="loading" /> <span>'+$DSTR.loading+'</span>&nbsp;&nbsp;&nbsp;<a class="canc" href="#" old="#">'+$DSTR.close+"</a></b></b></b></p>",document.body.appendChild(i),e=dj("#"+t),dj("#"+t+" a.canc").click((function(){return dLoading.hide()}))})),{show:function(i,s){return null!==e&&(dj.isNull(i)&&(i=$DSTR.loading),dj("#"+t+" span").html(i),dj.isNull(s)&&(s=3e4),e.css({display:"block"}),dj("#"+t+" p:first").center(),setTimeout((function(){dLoading.hide()}),s)),"show ok"},hide:function(){return null!==e&&e.hide(),!1}}}();!function(t){t(["djcore"],(function(t){return function(){var e,i,s,n=0,a="error",o="info",r="success",l="warning",h={clear:function(i,s){var n=g();e||d(n);p(i,n,s)||function(i){for(var s=e.children(),n=s.length-1;n>=0;n--)p(t(s[n]),i)}(n)},remove:function(i){var s=g();e||d(s);if(i&&0===t(":focus",i).length)return void f(i);e.children().length&&e.remove()},error:function(t,e,i){return u({type:a,iconClass:g().iconClasses.error,message:t,optionsOverride:i,title:e})},getContainer:d,info:function(t,e,i){return u({type:o,iconClass:g().iconClasses.info,message:t,optionsOverride:i,title:e})},options:{},subscribe:function(t){i=t},success:function(t,e,i){return u({type:r,iconClass:g().iconClasses.success,message:t,optionsOverride:i,title:e})},version:"2.1.2",warning:function(t,e,i){return u({type:l,iconClass:g().iconClasses.warning,message:t,optionsOverride:i,title:e})}};return h;function d(i,s){return i||(i=g()),(e=t("#"+i.containerId)).length||s&&(e=function(i){return(e=t("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert")).appendTo(t(i.target)),e}(i)),e}function p(e,i,s){var n=!(!s||!s.force)&&s.force;return!(!e||!n&&0!==t(":focus",e).length)&&(e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){f(e)}}),!0)}function c(t){i&&i(t)}function u(i){var a=g(),o=i.iconClass||a.iconClass;if(void 0!==i.optionsOverride&&(a=t.extend(a,i.optionsOverride),o=i.optionsOverride.iconClass||o),!function(t,e){if(t.preventDuplicates){if(e.message===s)return!0;s=e.message}return!1}(a,i)){n++,e=d(a,!0);var r=null,l=t("<div/>"),h=t("<div/>"),p=t("<div/>"),u=t("<div/>"),m=t(a.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:n,state:"visible",startTime:new Date,options:a,map:i};return i.iconClass&&l.addClass(a.toastClass).addClass(o),i.title&&(h.append(a.escapeHtml?x(i.title):i.title).addClass(a.titleClass),l.append(h)),i.message&&(p.append(a.escapeHtml?x(i.message):i.message).addClass(a.messageClass),l.append(p)),a.closeButton&&(m.addClass("toast-close-button").attr("role","button"),l.prepend(m)),a.progressBar&&(u.addClass("toast-progress"),l.prepend(u)),a.newestOnTop?e.prepend(l):e.append(l),l.hide(),l[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(r=setTimeout(y,a.timeOut),v.maxHideTime=parseFloat(a.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,a.progressBar&&(v.intervalId=setInterval(_,10))),function(){l.hover(C,w),!a.onclick&&a.tapToDismiss&&l.click(y);a.closeButton&&m&&m.click((function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),y(!0)}));a.onclick&&l.click((function(t){a.onclick(t),y()}))}(),c(b),a.debug&&console&&console.log(b),l}function x(t){return null==t&&(t=""),new String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(e){var i=e&&!1!==a.closeMethod?a.closeMethod:a.hideMethod,s=e&&!1!==a.closeDuration?a.closeDuration:a.hideDuration,n=e&&!1!==a.closeEasing?a.closeEasing:a.hideEasing;if(!t(":focus",l).length||e)return clearTimeout(v.intervalId),l[i]({duration:s,easing:n,complete:function(){f(l),a.onHidden&&"hidden"!==b.state&&a.onHidden(),b.state="hidden",b.endTime=new Date,c(b)}})}function w(){(a.timeOut>0||a.extendedTimeOut>0)&&(r=setTimeout(y,a.extendedTimeOut),v.maxHideTime=parseFloat(a.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function C(){clearTimeout(r),v.hideEta=0,l.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}function _(){var t=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;u.width(t+"%")}}function g(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1},h.options)}function f(t){e||(e=d()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),s=void 0))}}()}))}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("djcore")):window.toastr=e(window.djCore)});var dWin={b5:{id:Math.floor(1e3*Math.random()).toString(),icon:"info",title:$DSTR.dialog.alert_title},a4:null,a3:function(){return dj(".dbxmodal").length>0},noise:function(t,e,i){var s={action:"info",closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,toastClass:"animated fadeInDown",positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:300,hideDuration:1e3,timeOut:6e3,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut",afterShow:function(){},modal:!1,callback:function(){}};if(dj.isNumber(e)&&(s.timeOut=e),void 0!==i&&(s=dj.extend(s,i)),s.modal&&!this.a3()&&(this.a4=dj('<div class="dbxmodal"></div>').css({width:"100%",height:dj(document).height(),"z-index":1336,opacity:.7}).appendTo(document.body)),toastr.options=s,void 0!==toastr.options.title&&(t=toastr.options.title+":"+t),toastr[toastr.options.action](t),dj.isFunction(toastr.options.afterShow)&&toastr.options.afterShow(),dj.isFunction(toastr.options.callback)){var n=this;setTimeout((function(){toastr.options.callback(),s.modal&&null!==n.a4&&n.a4.animate({opacity:0},(function(){dj(this).remove()}))}),toastr.options.timeOut)}return!1},modal:function(t){this.b5=dj.extend(this.b5,{title:"Thông báo"},t),this.b5.id="dg"+dj.sec("dgmodal"+this.b5.id);var e=document.createElement("DIV");return e.setAttribute("id",this.b5.id),e.setAttribute("tabindex",0),e.setAttribute("aria-hidden","true"),e.setAttribute("class","modal fade dgmodal"),e.innerHTML=djTemplate.render('<div class="modal-dialog modal-dialog-centered"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title">{title}</h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> </div> <div class="modal-body">{html}</div> <div class="modal-footer">{buttons} <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="fa fa-times"></i>&nbsp;Bỏ qua</button> </div> </div></div>',this.b5),document.getElementsByTagName("body").item(0).appendChild(e),dj("#"+this.b5.id).modal("toggle").on("hidden.bs.modal",(function(t){t.target.remove()})).on("show.bs.modal",(function(t){})).on("shown.bs.modal",(function(t){})).on("hide.bs.modal",(function(t){})).on("hidePrevented.bs.modal",(function(t){})),!1},close:function(t){dj.isNull(t)||t.hide()},closeAll:function(){dj("div.dgmodal").remove()},confirm:function(t,e,i){return i=dj.extend({icon:"question"},i),this.modal(dj.extend({html:t,callback:e},i))},alert:function(t,e,i){var s={icon:"info",title:$DSTR.dialog.alert_title},n=function(){return!0};return dj.isNumber(e)?(s.autoClose=e,e=n):dj.isArray(e)&&(i=e,e=n),this.modal(dj.extend(s,{html:t,callback:e},i))},alertError:function(t,e,i){return dj.isNull(i)&&(i={icon:"error",title:$DSTR.dialog.error_title}),this.alert(t,e,i)},alertWarning:function(t,e,i){return dj.isNull(i)&&(i={icon:"warning",title:$DSTR.dialog.warning_title}),this.alert(t,e,i)},openContent:function(t,e,i,s){return this.modal(dj.extend({icon:"info",title:e,contentClass:"bxo",buttons:s},i))},childFrame:function(t){return dj("#"+t)[0].contentWindow},getIframe:function(t){var e=window.frames[t];if(e)try{return e.window}catch(t){return null}},screenSize:function(){var t=dj(window),e=t.width(),i=t.height();return e<800||i<400?{device:"mobile",width:e,height:i,modal:!1}:{device:"pc",width:e-140,height:i-60,modal:!0}},openIframe:function(t,e,i,s){var n=this.screenSize();if("mobile"===n.device)return window.location.href=t,!1;var a="dialogFrame"+(Boxy.zIndex+3),o=dj.extend({iframeid:a},n,i),r=dj.extend({btnCancel:{cls:"L3",title:$DSTR.dialog.button_cancel,command:function(t){return!0}}},s),l='<iframe id="'+a+'" frameborder=0 scrolling="auto" allowTransparency="allowtransparency" class="dialogIframe"';l+=' style="width:'+o.width+"px;height:"+o.height+'px;" src="'+t+'"',l+=" onload=\"dDialog.b0('"+a+"');\"",l+=' name="'+a+'"></iframe>';var h=this.openContent(l,e,o);return h.iframeid=a,window["val"+a]={bx:h,ars:o.autoResize,btns:r,onld:o.onLoad},h},ynquestion:function(t,e,i,s){return dj.isNull(s)&&(s={icon:"question",title:"#"}),this.openContent(t,s.title,s,{btnOK:{cls:"L3",title:$DSTR.dialog.button_yes,command:e},btnCancel:{cls:"L4",title:$DSTR.dialog.button_no,command:i}})},buzz:function(t){t.boxy.buzz()},calendar:function(t){var e=dj.extend({txtid:"txtid",showTime:!1,value:"",onSelected:function(){},clearBox:!0},t),i=document.getElementById(e.txtid);return!!i&&this.openCalendar(i,e.showTime,e.showWeek,e.value,e.onSelected,e.clearBox)},openCalendar:function(t,e,i,s,n,a){}}; /*! * djCore UI Touch Punch 0.2.3 * * Copyright 2011–2014, Dave Furfero * Dual licensed under the MIT or GPL Version 2 licenses. * * Depends: * djcore.ui.widget.js * djcore.ui.mouse.js */!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}}if(t.support.touch="ontouchend"in document,t.support.touch){if(void 0===t.ui)return!1;var i,s=t.ui.mouse.prototype,n=s._mouseInit,a=s._mouseDestroy;s._touchStart=function(t){!i&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},s._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},s._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},s._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),n.call(e)},s._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),a.call(e)}}}(djCore);