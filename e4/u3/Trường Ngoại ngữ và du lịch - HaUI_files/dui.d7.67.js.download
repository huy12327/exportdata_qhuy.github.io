/*vietlong.org 03/08/22 11:27:56*/
function Boxy(t,e){this.options=dj.extend({},Boxy.DEFAULTS,e||{}),this.boxy=dj(dj.render(Boxy.WRAPPER,{cls:this.options.bxClass})),dj.data(this.boxy[0],"boxy",this),this.visible=!1,this.options.modal&&(this.options=dj.extend(this.options,{center:!0,draggable:!1})),this.options.actuator&&dj.data(this.options.actuator,"active.boxy",this),this.a4(),this.setContent(t||"<div></div>"),this.boxy.css("display","none").appendTo(document.body),this.toTop(),this.options.fixed&&(Boxy.IE6?this.options.fixed=!1:this.boxy.addClass("fixed")),this.options.center&&Boxy.g2(this.options.x,this.options.y)?this.center():this.moveTo(Boxy.g2(this.options.x)?Boxy.DEFAULT_X:this.options.x,Boxy.g2(this.options.y)?Boxy.DEFAULT_Y:this.options.y),this.options.show&&this.show()}dj.install("autoresize",{autoResize:function(t){dj.plugins.autoresize.initialized||(dj.plugins.autoresize.init(),dj.plugins.autoresize.initialized=!0);for(var e,i=0;e=this[i];i++)dj.data(e,"autoresize.height")||dj.data(e,"autoresize.height",dj(e).height());var n=function(){dj.plugins.autoresize.resizing=this,dj.plugins.autoresize.timer&&clearTimeout(dj.plugins.autoresize.timer),dj.plugins.autoresize.timer=setTimeout((function(){var e=dj.plugins.autoresize.resizing;if(!dj.data(e,"autoresize.stop")){var i=dj(e),n=i.width();if(!(n<=0)){var o,a=dj.plugins.autoresize.styles,s=dj("#jhjs-text-resize"),r=dj.data(e,"autoresize.height"),l=i.val()+"&";for(o=0;o<a.length;o++)s.css(a[o],i.css(a[o]));s.css("width",n+"px");var d=dj.data(e,"autoresize.lineheight");d||(s.text("&"),d=s.height(),dj.data(e,"autoresize.lineheight",d)),dj.browser.msie&&dj.browser.version>8?s[0].innerText=l:s.text(l);var c,u=s.height();if(u<=r?u=r:u+=d,t&&dj.isFunction(t.onresize)){var h=i.height();u!=h&&(c=t.onresize.call(e,u,h))}!1!==c&&i.css("height",u+"px")}}}),50)};return this.change(n).keydown(n).keyup(n).focus(n),this}},(function(){dj.plugins.autoresize.init=function(){dj.plugins.autoresize.styles=["font-family","font-size","font-weight","line-height","text-decoration","letter-spacing","word-spacing","text-indent"],dj(document).ready((function(){var t=dj.createElement("DIV",{id:"jhjs-text-resize"},{padding:0,margin:0,border:0,wordWrap:"break-word",position:"absolute",left:"-9999px",top:"-9999px"});dj.browser.msie&&dj.browser.version<9?dj(t).css("_whiteSpace","pre-wrap"):dj(t).css("whiteSpace","pre-wrap"),document.body.appendChild(t)}))}})),function(t){"use strict";var e={url:"",data:{dc:"_"},multi:!0,allowlocked:!1,getall:!1,manager:"",idfield:"",maxLength:10,width:0,onRemove:function(t,e,i,n){t.remove()},onSelect:function(t,e,i){return!0},onValue:function(t,e,i){return""},onRender:function(t,e,i){return""},onInit:function(){}},i=function(t,e){return this.f8(t,e)};i.prototype={element:null,constructor:i,ver:"1.0",e3:null,c0:null,g9:"",h0:{},f9:{},g0:{},d0:0,d5:0,a9:"",c1:null,f2:null,f3:null,f4:null,e4:null,e5:null,b0:!0,d6:!1,c5:function(i){return t.extend({},e,this.element.data(),i)},f8:function(e,i){this.element=t(e);var n=this.element.attr("id");t.isNull(n)&&(n="ath"+Math.floor(99999999*Math.random()+1)),this.e3=this.c5(i),this.h0={},this.f9={};var o=["dmulti="+(this.e3.multi?1:0),"allowlocked="+(this.e3.allowlocked?1:0),"getall="+(this.e3.getall?1:0),"dlength="+this.e3.maxLength,"dgv="+this.ver];""!==this.e3.manager&&o.push("manager="+this.e3.manager),this.e3.url+=(this.e3.url.indexOf("?")>-1?"&":"?")+o.join("&"),this.a9="dtg"+n,this.element.attr("autocomplete","off");var a=this.element.width();0===this.e3.width&&(this.e3.width=a);var s='<div id="'+this.a9+'">',r=this.element.attr("name");s+='<input id="'+n+'" type="hidden" name="'+r+'" />',this.element.attr("name",r+"inp"),this.element.attr("id",""),this.e3.multi&&(this.element.hide(),s+='<ul class="holder"><li class="annon"><input type="text" autocomplete="off" size="1" id="'+n+'fbckmsg" /></li></ul>'),s+='<div class="dautoc"><div class="shadow"><div class="bor"><ul class="autc"></ul></div></div></div>',t(s+="</div>").insertAfter(this.element),this.c0=t("#"+n);var l=this;return this.f3=t("#"+this.a9+" div.dautoc:first"),this.f3.css({width:this.e3.width,position:"absolute","z-index":999999999}).hide(),this.f4=t("#"+this.a9+" ul.autc:first"),this.c1=t("#"+this.a9),this.e3.multi?(this.e5=t("#"+this.a9+" .annon input:first"),this.f2=t("#"+this.a9+" ul.holder:first"),this.f2.css({width:a,height:"auto"}).click((function(){l.e5.focus(),l.d7()})),this.f3.css({top:this.f2.top()+this.f2.outerHeight(),left:this.f2.left()}),this.e4=t("#"+this.a9+" .annon:first")):(this.e5=this.element,this.e5.click((function(){this.select(),l.h0={},l.f9={},l.d7()})),this.f3.css({top:this.e5.top()+this.e5.outerHeight(),left:this.e5.left()})),this.e3.onInit(),this.e5.keydown((function(){l.b0=""===t(this).val()})).keyup((function(e){var i=t(this).val();if(27===e.keyCode)l.f5();else if(13===e.keyCode){var n=l.b4();l.e6(n,l.g9)}else if(40===e.keyCode&&l.d0>1)l.d5===l.d0-1?l.d5=0:l.d5++,l.d1();else if(38===e.keyCode&&l.d0>1)0===l.d5?l.d5=l.d0-1:l.d5--,l.d1();else if(8===e.keyCode&&!1===l.d6)if(l.e3.multi&&0===l.d0&&!0===l.b0&&""===i){var o=l.f2.children(".box:last");o&&o.length>0&&l.e7(o.children(".close:first")[0])}else l.e3.multi||(l.e5.val(""),l.c0.val(""));else""!==i?l.e8(i):l.d8()})).clickOutside((function(){l.d8()})),this},f5:function(){this.e5.val(""),this.f4.html(""),this.d0=0,this.d8()},d7:function(){!this.d6&&this.d0>0&&(this.f3.show(),this.d6=!0)},d8:function(){this.d6&&(this.f3.hide(),this.d6=!1)},b4:function(){return t("#li"+this.a9+this.d5)[0]},d1:function(){this.f4.children("li").removeClass("active"),t("#li"+this.a9+this.d5).addClass("active")},h1:function(e){var i=t.extend(this.e3.data,e);return this.e3.url+"&"+t.param(i)},e8:function(e){this.g9=e;var i=this,n=this.h1({dc:"typ",dq:this.g9});t.getJSONP(n,(function(t){0===t.err&&i.d9(t.data)}))},d9:function(e){this.f4.html(""),this.g0={},this.d8(),!t.isNull(e)&&e.length>0&&this.e9(e)},e6:function(e){this.f5();var i=t(e).attr("idx");this.d2(i,this.g9),this.e0(i,this.g9),this.e5.focus()},e9:function(e){this.d5=0,this.d0=0;for(var i=0;i<e.length;i++){var n=e[i],o=n[this.e3.idfield];if(!this.h0[o]){this.g0[o]=n;var a=document.createElement("LI");a.setAttribute("idx",o),a.id="li"+this.a9+this.d0,a.className="item"+(0===this.d0?" active":""),this.d0++,a.innerHTML=this.e3.onRender(this,n,this.g9);var s=this;t(a).hover((function(){t(this).addClass("active")}),(function(){t(this).removeClass("active")})).click((function(){s.e6(this)})),this.f4.append(a)}}this.d7()},e7:function(e){var i=t(e).parent(),n=i.attr("rel"),o=this.f9[n];this.e3.onRemove(this,o,n,i)},e0:function(t,e){var i=this.g0[t];if(i){var n=this.e3.onValue(this,i,e);if(this.e3.multi){var o=document.createElement("LI");o.setAttribute("rel",t),o.className="box d"+t,o.innerHTML=n;var a=document.createElement("B");a.className="close";var s=this;a.onclick=function(){s.e7(this)},o.appendChild(a),this.e4.before(o),this.f3.css({top:this.f2.top()+this.f2.outerHeight()})}else this.f9={},this.element.val(n);this.f9[t]=i,this.e3.onSelect(this,i,e)}},b5:function(){var t=[];for(var e in this.h0)this.h0[e]&&t.push(e);var i=t.join(",");this.element.attr("rel",i),this.c0.val(i)},d2:function(t,e){this.e3.multi||(this.h0={}),this.h0[t]=e,this.b5()},h4:function(t,e){var i=t[this.e3.idfield];this.d2(i,e),this.g0[i]=t,this.f9[i]=t,this.e0(i,e)},opt:function(){return this.e3},set:function(e){if(!t.isNull(e)&&""!==e&&(t.isArray(e)||(e=[e]),e.length>0)){var i=this,n=this.h1({dc:"set",dq:e.join(",")});t.getJSONP(n,(function(t){if(0===t.err&&null!==t.data&&t.data.length>0)for(var e=0;e<t.data.length;e++)i.h4(t.data[e],"set")}))}return this},remove:function(e,i){t.isNull(i)&&(i=this.f2.find(".d"+e+":first")),i&&(this.h0[e]=null,this.f9[e]=null,this.b5(),i.remove())}},t.fn.dAutoComplete=function(e,n){return void 0===n&&(n="$AutoComplete"),this.each((function(){var o=t(this),a=o.data(n),s="object"==typeof e&&e;a||o.data(n,a=new i(this,s))}))}}(djCore),dj.fn.boxy=function(t){return t=t||{},this.each((function(){var e=this.nodeName.toLowerCase(),i=this;"a"===e?dj(this).click((function(){var e=Boxy.linkedTo(this),i=this.getAttribute("href"),n=dj.extend({actuator:this,title:this.title},t);if(i.match(/(&|\?)boxy\.dbxmodal/)&&(n.modal=!0),e)e.show();else if(i.indexOf("#")>=0){var o=dj(i.substr(i.indexOf("#"))),a=o.clone(!0);o.remove(),n.unloadOnHide=!1,new Boxy(a,n)}else i.match(/\.(jpe?g|png|gif|bmp)($|\?)/i)?(n.unloadOnHide=!0,Boxy.loadImage(this.href,n)):(n.cache||(n.unloadOnHide=!0),Boxy.load(this.href,n));return!1})):"form"===e&&dj(this).bind("submit.boxy",(function(){return Boxy.confirm(t.message||"Please confirm:",(function(){dj(i).unbind("submit.boxy").submit()})),!1}))}))},dj.extend(Boxy,{WRAPPER:'<div class="dboxy {cls}"><div class="dbxbor"><div class="dbxmain"></div></div></div>',DEFAULTS:{icon:"info",bxClass:"",contentClass:"",autoClose:0,autoResize:!1,position:"",title:null,closeable:!0,draggable:!0,clone:!1,actuator:null,center:!0,show:!0,modal:!1,fixed:!0,closeText:"",unloadOnHide:!1,clickToFront:!1,behaviours:function(t,e){},afterDrop:function(t){},onLoad:function(t,e){djLog("load Iframe done")},afterShow:function(t,e){},afterHide:function(t){},beforeUnload:function(t){},hideFade:!1,hideShrink:!1},IE6:dj.browser.msie&&dj.browser.version<7,DEFAULT_X:50,DEFAULT_Y:50,MODAL_OPACITY:.7,zIndex:1337,dragConfigured:!1,resizeConfigured:!1,dragging:null,load:function(t,e){e=e||{};var i={url:t,type:"GET",dataType:"html",cache:!1,success:function(t){t=dj(t),e.filter&&(t=dj(e.filter,t)),new Boxy(t,e)}};dj.each(["type","cache"],(function(){this in e&&(i[this]=e[this],delete e[this])})),dj.ajax(i)},loadImage:function(t,e){var i=new Image;i.onload=function(){new Boxy(dj('<div class="dboxy-img"/>').append(this),e)},i.src=t},get:function(t){var e=dj(t).parents(".dboxy");return e.length?dj.data(e[0],"boxy"):null},linkedTo:function(t){return dj.data(t,"active.boxy")},alert:function(t,e,i){return Boxy.ask(t,{btnok:{cls:"L3",title:$DSTR.dialog.button_close,command:function(t){return!dj.isFunction(e)||e(t)}}},i)},confirm:function(t,e,i){return Boxy.ask(t,{btnok:{cls:"L3",title:$DSTR.dialog.button_agree,command:function(t){return e(t)}},btncancel:{cls:"L4",title:$DSTR.dialog.button_cancel,command:function(t){return!0}}},i)},fpanel:function(t,e){if(!dj.isNull(e)){if(dj(".dbxfote",t).length>0)return!1;var i=dj('<div class="dbxfote"></div>');for(var n in e){var o=e[n];if(o){var a=void 0!==o.href,s=document.createElement(a?"A":"B"),r="L3";s.setAttribute("dg-btn",n),dj.isNull(o.cls)||(r=o.cls),s.className="btn_"+r;var l=document.createElement("EM");l.innerHTML=o.title,s.appendChild(l),a?(void 0!==o.target&&s.setAttribute("target",o.target),s.setAttribute("href",o.href)):(dj.isNull(o.command)&&(o.command=function(){return!0}),s.onclick=function(){var t=this.getAttribute("dg-btn"),i=e[t],n=Boxy.get(this),o=!0;return o=dj.isFunction(i.command)?i.command(n,dj(n.boxy[0]),this):window[i.command].call(n,dj(n.boxy[0]),this),(dj.isNull(o)||!0===o)&&n.hide(),!1}),i[0].appendChild(s)}}t.append(i)}},dialog:function(t,e,i){var n=dj(t);this.fpanel(n,e);var o=new Boxy(n,i);if(i.autoClose>0)var a=setTimeout((function(){o.hide(),clearTimeout(a)}),i.autoClose);return o},ask:function(t,e,i){return i=dj.extend({modal:!0,closeable:!1},i||{},{show:!0,unloadOnHide:!0}),this.dialog(t,e,i)},isModalVisible:function(){return dj(".dbxmodal").length>0},g2:function(){for(var t=0;t<arguments.length;t++)if(!dj.isNull(arguments[t]))return!1;return!0},f0:function(t){if(t instanceof Array)return t;var e=[];for(var i in t)e.push(t[i]);return e},b2:function(t){dj(".dbxmodal").css("display","none").css(Boxy.a5()).css("display","block")},c2:function(t){var e=Boxy.dragging;e&&e[0].boxy.css({left:t.pageX-e[1],top:t.pageY-e[2]})},f6:function(){return Boxy.zIndex++},d3:function(){var t=document.documentElement,e=document.body,i=window;return dj.extend(dj.browser.msie?{left:e.scrollLeft||t.scrollLeft,top:e.scrollTop||t.scrollTop}:{left:i.pageXOffset,top:i.pageYOffset},Boxy.g2(i.innerWidth)?Boxy.g2(t)||Boxy.g2(t.clientWidth)||0===t.clientWidth?{width:e.clientWidth,height:e.clientHeight}:{width:t.clientWidth,height:t.clientHeight}:{width:i.innerWidth,height:i.innerHeight})},a1:function(){if(!Boxy.resizeConfigured){var t=dj(window).resize(Boxy.b2);Boxy.IE6&&t.scroll(Boxy.b2),Boxy.resizeConfigured=!0}},a5:function(){return Boxy.IE6?Boxy.d3():{width:"100%",height:dj(document).height()}}}),Boxy.prototype={ver:"dragon",estimateSize:function(){this.boxy.css({visibility:"hidden",display:"block"});var t=this.getSize();return this.boxy.css({display:"none",visibility:"visible"}),t},getSize:function(){return[this.boxy.width(),this.boxy.height()]},getContentSize:function(){var t=this.getContent();return[t.width(),t.height()]},getPosition:function(){var t=this.boxy[0];return[t.offsetLeft,t.offsetTop]},getCenter:function(){var t=this.getPosition(),e=this.getSize();return[Math.floor(t[0]+e[0]/2),Math.floor(t[1]+e[1]/2)]},getInner:function(){return dj(".dbxmain",this.boxy)},getContent:function(){return dj(".dbxbody",this.boxy)},printIframe:function(t){var e=this.iframeid;return!!e&&(dDialog.getIframe(e).print(),dj.isFunction(t)&&t(e),!1)},setContent:function(t){return t=dj(t).css({display:"block"}).addClass("dbxbody"),this.options.clone&&(t=t.clone(!0)),this.getContent().remove(),this.getInner().append(t),this.a0(t),this.options.behaviours(this,t),this},moveTo:function(t,e){return this.moveToX(t).moveToY(e),this},moveToX:function(t){return"number"==typeof t?this.boxy.css({left:t}):this.centerX(),this},moveToY:function(t){return"number"==typeof t?this.boxy.css({top:t}):this.centerY(),this},centerAt:function(t,e){var i=this[this.visible?"getSize":"estimateSize"]();return null!==t&&"number"==typeof t&&this.moveToX(t-i[0]/2),null!==e&&"number"==typeof e&&this.moveToY(e-i[1]/2),this},centerAtX:function(t){return this.centerAt(t,null)},centerAtY:function(t){return this.centerAt(null,t)},center:function(t){var e=Boxy.d3(),i=this.options.fixed?[0,0]:[e.left,e.top];return t&&"x"!==t||this.centerAt(i[0]+e.width/2,null),t&&"y"!==t||this.centerAt(null,i[1]+e.height/2),this},centerX:function(){return this.center("x")},centerY:function(){return this.center("y")},resize:function(t,e,i){if(this.visible){var n=this.a2(t,e);return this.boxy.css({left:n[0],top:n[1]}),this.getContent().css({width:n[2],height:n[3]}),i&&i(this),this}},tween:function(t,e,i){if(this.visible){var n=this.a2(t,e),o=this;return this.boxy.stop().animate({left:n[0],top:n[1]}),this.getContent().stop().animate({width:n[2],height:n[3]},(function(){i&&i(o)})),this}},isVisible:function(){return this.visible},show:function(){if(!this.visible){if(this.options.modal){var t=this;Boxy.a1(),this.modalBlackout=dj('<div class="dbxmodal"></div>').css(dj.extend(Boxy.a5(),{zIndex:Boxy.f6(),opacity:Boxy.MODAL_OPACITY})).appendTo(document.body),this.toTop(),this.options.closeable&&dj(document.body).bind("keypress.boxy",(function(e){27===(e.which||e.keyCode)&&(t.hide(),dj(document.body).unbind("keypress.boxy"))}))}return this.getInner().stop().css({width:"",height:""}),this.boxy.stop().css({opacity:1,display:"block"}),this.visible=!0,this.options.afterShow(this,dj(this.boxy[0])),this}},hide:function(t){if(this.visible){var e=this;this.options.modal&&(dj(document.body).unbind("keypress.boxy"),this.modalBlackout.animate({opacity:0},(function(){dj(this).remove()})));var i={boxy:{},inner:{}},n=0,o=function(){e.boxy.css({display:"none"}),e.visible=!1,e.options.afterHide(e),t&&t(e),e.options.unloadOnHide&&e.unload()};if(this.options.hideShrink){var a=this.getInner(),s=this.options.hideShrink,r=this.getPosition();n|=1,!0!==s&&"vertical"!==s||(i.inner.height=0,i.boxy.top=r[1]+a.height()/2),!0!==s&&"horizontal"!==s||(i.inner.width=0,i.boxy.left=r[0]+a.width()/2)}return this.options.hideFade&&(n|=2,i.boxy.opacity=0),n?(1&n&&a.stop().animate(i.inner,300),this.boxy.stop().animate(i.boxy,300,o)):o(),this}},toggle:function(){return this[this.visible?"hide":"show"](),this},hideAndUnload:function(t){return this.options.unloadOnHide=!0,this.hide(t),this},unload:function(){this.options.beforeUnload(this),this.boxy.remove(),this.options.actuator&&dj.data(this.options.actuator,"active.boxy",!1)},toTop:function(){return this.boxy.css({zIndex:Boxy.f6()}),this},getTitle:function(){return dj("> .dbxtit h2",this.getInner()).html()},setTitle:function(t){return dj("> .dbxtit h2",this.getInner()).html(t),this},a2:function(t,e){var i=this.getContentSize(),n=[t-i[0],e-i[1]],o=this.getPosition();return[Math.max(o[0]-n[0]/2,0),Math.max(o[1]-n[1]/2,0),t,e]},a4:function(){var t=this.getInner(),e=this;if(this.options.closeable){var i=document.createElement("B");i.className="dbxclo",i.innerHTML=this.options.closeText,i.setAttribute("style","z-index:"+(Boxy.zIndex+2)),i.onclick=function(){e.hide()},t[0].appendChild(i)}if(this.options.title){var n=document.createElement("DIV"),o="";n.className="dbxtit",""!==this.options.icon&&(o='<i class="'+this.options.icon+'"></i>'),n.innerHTML=o+"<h2>"+this.options.title+"</h2>",this.options.draggable&&(n.onselectstart=function(){return!1},n.unselectable="on",n.style.MozUserSelect="none",Boxy.dragConfigured||(dj(document).mousemove(Boxy.c2),Boxy.dragConfigured=!0),dj(n).mousedown((function(t){e.toTop(),Boxy.dragging=[e,t.pageX-e.boxy[0].offsetLeft,t.pageY-e.boxy[0].offsetTop],dj(this).addClass("dragging")})).mouseup((function(){dj(this).removeClass("dragging"),Boxy.dragging=null,e.options.afterDrop(e)}))),t[0].appendChild(n)}this.a0(t)},a0:function(t){var e=this;this.options.clickToFront&&t.click((function(){e.toTop()})),dj("b.dbxclo",t).mousedown((function(t){t.stopPropagation()}))}};var dDialog=function(){function t(t,e){return'<div><div class="bxCont '+e.contentClass+'">'+t+"</div></div>"}return{e1:null,close:function(t){dj.isNull(t)||t.hide()},closeAll:function(){dj(".dboxy,.dbxmodal").remove()},confirm:function(e,i,n){return n=dj.extend({icon:"question"},n),this.e1=n,Boxy.confirm(t(e,n),i,n)},alert:function(e,i,n){var o={icon:"info",title:$DSTR.dialog.alert_title},a=function(){return!0};return dj.isNumber(i)?(o.autoClose=i,i=a):dj.isArray(i)&&(n=i,i=a),n=dj.extend(o,n),this.e1=n,Boxy.alert(t(e,n),i,n)},alertError:function(t,e,i){return dj.isNull(i)&&(i={icon:"error",title:$DSTR.dialog.error_title}),this.alert(t,e,i)},alertWarning:function(t,e,i){return dj.isNull(i)&&(i={icon:"warning",title:$DSTR.dialog.warning_title}),this.alert(t,e,i)},openContent:function(e,i,n,o){return n=dj.extend({icon:"info",title:i,contentClass:"bxo"},n),this.e1=n,Boxy.dialog(t(e,n),o,n)},childFrame:function(t){return dj("#"+t)[0].contentWindow},getIframe:function(t){var e=window.frames[t];if(e)try{return e.window}catch(t){return null}},b6:function(t){var e=this.getIframe(t);if(e)try{var i=window["val"+t];if(!dj.isNull(i.btns)){for(var n in i.btns){var o=i.btns[n];if(!dj.isNull(o.command)&&dj.isString(o.command)){var a=o.command;a.indexOf("iframe.")>-1&&(a=a.replace("iframe.",""),o.command=e[a])}}Boxy.fpanel(i.bx.getContent(),i.btns)}if(i.ars){var s=dj(e.document.body),r=s.outerWidth(),l=s.outerHeight();dj("#"+t).css({width:r,height:l})}if(dj.isFunction(i.onld)){var d=this.childFrame(t);i.onld(t,d)}}catch(t){djLog(["BOXY ERR",t])}},screenSize:function(){var t=dj(window),e=t.width(),i=t.height();return e<800||i<400?{device:"mobile",width:e,height:i,modal:!1}:{device:"pc",width:e-140,height:i-60,modal:!0}},openIframe:function(t,e,i,n){var o=this.screenSize();if("mobile"===o.device)return window.location.href=t,!1;var a="dialogFrame"+(Boxy.zIndex+3),s=dj.extend({iframeid:a},o,i),r=dj.extend({btnCancel:{cls:"L3",title:$DSTR.dialog.button_cancel,command:function(t){return!0}}},n),l='<iframe id="'+a+'" frameborder=0 scrolling="auto" allowTransparency="allowtransparency" class="dialogIframe"';l+=' style="width:'+s.width+"px;height:"+s.height+'px;" src="'+t+'"',l+=" onload=\"dDialog.b6('"+a+"');\"",l+=' name="'+a+'"></iframe>';var d=this.openContent(l,e,s);return d.iframeid=a,window["val"+a]={bx:d,ars:s.autoResize,btns:r,onld:s.onLoad},d},ynquestion:function(t,e,i,n){return dj.isNull(n)&&(n={icon:"question",title:"#"}),this.openContent(t,n.title,n,{btnOK:{cls:"L3",title:$DSTR.dialog.button_yes,command:e},btnCancel:{cls:"L4",title:$DSTR.dialog.button_no,command:i}})},buzz:function(t){t.boxy.buzz()},calendar:function(t){var e=dj.extend({txtid:"txtid",showTime:!1,showWeek:!1,value:"",onSelected:function(){},clearBox:!0},t),i=document.getElementById(e.txtid);return!!i&&this.openCalendar(i,e.showTime,e.showWeek,e.value,e.onSelected,e.clearBox)},openCalendar:function(t,e,i,n,o,a){(void 0===a||a)&&this.closeAll();var s=Math.floor(99999999*Math.random()+1),r="dvCalMain"+s,l="calendarTitle"+s,d=window.screen;return this.openContent('<div id="'+r+'"></div>','<div id="o'+l+'" class="calendarBody"><div class="cpre"></div><div id="'+l+'"></div><div class="cnex"></div><br class="clr" />',{icon:"",center:!1,bxClass:"jhnby",contentClass:"cldr",afterShow:function(a,s){!function(a,s){if(t){var c="";if(""!==t.value){var u=new RegExp(/(\d+)\/(\d+)\/(\d+)(\s*.*?$)?/gi);(u=u.exec(t.value))&&(n={day:1*u[1],month:1*u[2],year:1*u[3]},c=u[4])}if(d.width<500)a.center();else{var h=dj(t),f=h.offset(),p=f.top-dj(window).scrollTop();a.moveTo(f.left,p+10+h.height())}}djCalendar.init(n,(function(n){var s=n.d,r=n.m,l=n.y;if(c||(c=""),t){if(e!==c&&(e||""!==c)){var d=new Date;c=" "+d.getHours()+":"+d.getMinutes()}var u="";if(i){var h=parseInt(n.w,0)+1;u=1===h?"CN ":"T"+h+" "}t.value=u+s+"/"+r+"/"+l+c}o&&o(n),a.hide()}),r,l)}(a)}})}}}(),djCalendar=function(){var t=new Date,e=t.getDate()/1,i=t.getMonth()+1,n=t.getFullYear(),o=["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bẩy"],a=["T2","T3","T4","T5","T6","T7","CN"];return{curDay:e,curMonth:i,curYear:n,slDay:0,slMonth:0,slYear:0,fCallBack:null,objContainer:null,objTitle:"",curentDate:o[djDate.dayOfWeek(i,n)%7]+", ngày "+e+" tháng "+i+" năm "+n,init:function(t,e,i,n){this.objContainer=document.getElementById(i),this.objTitle=document.getElementById(n);var o=this;dj("#o"+n+" .cpre").click((function(){o.curMonth--,o.curMonth<1&&(o.curMonth=12,o.curYear--),o.b3()})),dj("#o"+n+" .cnex").click((function(){o.curMonth++,o.curMonth>12&&(o.curMonth=1,o.curYear++),o.b3()})),this.fCallBack=e,this.slDay=0,t&&(this.slDay=t.day,this.slMonth=t.month,this.slYear=t.year,this.curDay=this.slDay,this.curMonth=this.slMonth,this.curYear=this.slYear),this.b3(this.curDay,this.curMonth,this.curYear)},b3:function(t,s,r){t&&s&&r||(t=this.curDay,s=this.curMonth,r=this.curYear),this.objContainer.innerHTML="",this.objTitle.innerHTML=(s<10?"0":"")+s+" / "+r;var l=djDate.dayOfWeek(s,r),d=djDate.dayOfMonth(s,r),c=d+l;c=28===c?c:c>35?42:35;var u=document.createElement("TABLE");u.className="tblCalendar";var h=document.createElement("TBODY"),f=document.createElement("TR");f.className="th";for(var p=0;p<7;p++){var m=document.createElement("TH");m.innerHTML=a[p],f.appendChild(m)}h.appendChild(f);for(var g=document.createElement("TR"),v=this,x=1;x<=c;x++){var y=x%7,b=x-l;if(b<=0||x>d+l){var w,_,C=document.createElement("TD"),S=b;x>d+l?(S-=d,_=r,(w=s+1)>12&&(w=1,_++)):S<=0&&(_=r,0===(w=s-1)&&(w=12,_--),S=djDate.dayOfMonth(w,_)+S),C.className="od",C.setAttribute("d",S),C.setAttribute("m",w),C.setAttribute("y",_),C.onclick=function(){var t=this.getAttribute("d"),e=this.getAttribute("m"),i=this.getAttribute("y");v.b3(1*t,1*e,1*i)},C.innerHTML=S,g.appendChild(C)}else{x>7&&1===y&&(h.appendChild(g),g=document.createElement("tr"));var T="nm";b===this.slDay&&s===this.slMonth&&r===this.slYear?(T="no",g.className="trno"):b===e&&s===i&&r===n?T="sl":0===y&&(T="rd");var j=document.createElement("td"),B=o[y]+", ngày "+b+" tháng "+s+" năm "+r;j.title=B;var k=(b<10?"0":"")+b;j.setAttribute("_w",y),j.setAttribute("_d",k),j.setAttribute("_m",(s<10?"0":"")+s),j.setAttribute("_y",r),j.className=T,j.innerHTML=k,j.onclick=function(){v.fCallBack({w:this.getAttribute("_w"),d:this.getAttribute("_d"),m:this.getAttribute("_m"),y:this.getAttribute("_y"),t:this.title})},g.appendChild(j)}}h.appendChild(g),u.appendChild(h),this.objContainer.appendChild(u)}}}();!function(t){var e=[{syntax:":)",title:"",icon:1},{syntax:":~",title:"",icon:2},{syntax:":B",title:"",icon:3},{syntax:":|",title:"",icon:4},{syntax:"8-)",title:"",icon:5},{syntax:":-((",title:"",icon:6},{syntax:":$",title:"",icon:7},{syntax:":X",title:"",icon:8},{syntax:":Z",title:"",icon:9},{syntax:":((",title:"",icon:10},{syntax:":-|",title:"",icon:11},{syntax:":-H",title:"",icon:12},{syntax:":P",title:"",icon:13},{syntax:":D",title:"",icon:14},{syntax:":o",title:"",icon:15},{syntax:":(",title:"",icon:16},{syntax:":+",title:"",icon:17},{syntax:"--B",title:"",icon:18},{syntax:":Q",title:"",icon:19},{syntax:":T",title:"",icon:20},{syntax:";P",title:"",icon:21},{syntax:";-D",title:"",icon:22},{syntax:";D",title:"",icon:23},{syntax:";O",title:"",icon:24},{syntax:";G",title:"",icon:25},{syntax:"|-)",title:"",icon:26},{syntax:":!",title:"",icon:27},{syntax:":L",title:"",icon:28},{syntax:":;",title:"",icon:30},{syntax:";F",title:"",icon:31},{syntax:";-S",title:"",icon:32},{syntax:";?",title:"",icon:33},{syntax:";-X",title:"",icon:34},{syntax:":-F",title:"",icon:35},{syntax:";8",title:"",icon:36},{syntax:";!",title:"",icon:37},{syntax:";-!",title:"",icon:38},{syntax:";XX",title:"",icon:39},{syntax:":-BYE",title:"",icon:40},{syntax:":WIPE",title:"",icon:41},{syntax:":-DIG",title:"",icon:42},{syntax:":handclap",title:"",icon:43},{syntax:"B-)",title:"",icon:45},{syntax:":-L",title:"",icon:46},{syntax:":-R",title:"",icon:47},{syntax:":-O",title:"",icon:48},{syntax:"P-(",title:"",icon:50},{syntax:":--|",title:"",icon:51},{syntax:"X-)",title:"",icon:52},{syntax:":*",title:"",icon:53},{syntax:";-A",title:"",icon:54},{syntax:"8*",title:"",icon:55},{syntax:"/-showlove",title:"",icon:56},{syntax:"/-rose",title:"",icon:57},{syntax:"/-fade",title:"",icon:58},{syntax:"/-heart",title:"",icon:59},{syntax:"/-break",title:"",icon:60},{syntax:"/-coffee",title:"",icon:61},{syntax:"/-cake",title:"",icon:62},{syntax:"/-li",title:"",icon:63},{syntax:"/-bome",title:"",icon:64},{syntax:"/-bd",title:"",icon:65},{syntax:"/-strong",title:"",icon:66},{syntax:"/-weak",title:"",icon:67},{syntax:"/-ok",title:"",icon:68},{syntax:"/-share",title:"",icon:69},{syntax:"/-v",title:"",icon:70},{syntax:"/-thanks",title:"",icon:71},{syntax:"/-jj",title:"",icon:72},{syntax:"/-punch",title:"",icon:73},{syntax:"/-bad",title:"",icon:74},{syntax:"/-loveu",title:"",icon:75},{syntax:"/-no",title:"",icon:76}],i=null,n=[],o=null,a=djConfig.CDN_URL+"dgrs/emoticons/";function s(t,e){return'<img class="emt" src="'+t+'.jpg" title="'+e+'" />'}var r={onclick:function(t,e,i){return djLog("renderEmotions onclick"),!0},callback:function(t){return djLog("renderEmotions callback"),!1},target:"body"};t.fn.renderEmotions=function(l){var d=t.extend({},r,l),c=t(this[0]),u=c.attr("id");return u&&""!==u||(u="ec"+Math.floor(999999*Math.random())),void 0===n[u]&&(n[u]=d.onclick),c.unbind("click").click((function(){var r=document.createElement("DIV");r.id="d"+u;for(var l=0;l<e.length;l++){var c=e[l],h=document.createElement("SPAN");h.setAttribute("title",c.syntax),h.onclick=function(){var e=t(this).attr("title");!1!==i(f,e,o)&&t("#d"+u).remove()},h.innerHTML=s(a+c.icon,c.title),r.appendChild(h)}var f=t(r);f.addClass("demolist"),f.appendTo(d.target),d.callback(f),o=this,i=n[u]})),c},t.fn.emotions=function(i,n){var o={handle:"a",dir:a,label:"Click here to show emotion icons",style:null,cls:null,r_alert:1,emotions:e};i&&t.extend(o,i);var r=this,l=t(o.handle).html(),d=t(o.handle).attr("style"),c=t(o.handle).attr("class"),u={f1:function(t){return t.replace(/(\.|\\|\+|\*|\?|\[|\^|\]|\$|\(|\)|\{|\}|\=|\!|\<|\>|\||\:|\-)/gi,"\\$1")},g6:function(){n&&t.each(n,(function(t,e){o.r_alert&&o.emotions[t]?confirm("Emotion "+t+"."+o.emotion_ext+" <=> "+o.emotions[t]+" does exists. Do you want to replace it by "+e+" ?")&&(o.emotions[t]=e):o.emotions[t]=e})),r.each((function(){var e=t(this).html();t.each(o.emotions,(function(t,i){e=e.replace(new RegExp(u.f1(i.syntax),"ig"),s(o.dir+i.icon,i.title))})),t(this).html(e),t(o.handle).html(l).attr({style:d}).addClass(c)}))},e7:function(){t(r).find("span.emotion_show").each((function(){var e=Number(this.className.split("emotion_show ")[1]);t(this).attr({class:""}).addClass("emotion_hide "+e).html(o.emotions[e].syntax)})),t(o.handle).html(o.label).attr({style:o.style}).addClass(o.cls)},f7:function(){t(r).find("span.emotion_hide").each((function(){var e=Number(this.className.split("emotion_hide ")[1]);t(this).attr({class:""}).addClass("emotion_show "+e).html(s(o.dir+o.emotions[e].icon,o.emotions[e].title))})),t(o.handle).html(l).attr({style:d}).addClass(c)}};return t(o.handle).toggle(u.e7,u.f7),u.g6(),!1}}(djCore);var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,(function(){"use strict";var t={elements_selector:"img",container:document,threshold:300,data_src:"src",data_srcset:"srcset",class_loading:"loading",class_loaded:"loaded",class_error:"error",callback_load:null,callback_error:null,callback_set:null},e=function(t){return t.filter((function(t){return!t.dataset.wasProcessed}))},i=function(t,e){var i=new t(e),n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:i}});window.dispatchEvent(n)},n=function(t,e){var i=e.data_src,n=e.data_srcset,o=t.tagName,a=t.dataset[i];if("IMG"===o){!function(t,e){var i=e.data_srcset,n=t.parentElement;if(!dj.isNull(n)&&"PICTURE"===n.tagName)for(var o,a=0;o=n.children[a];a+=1)if("SOURCE"===o.tagName){var s=o.dataset[i];s&&o.setAttribute("srcset",s)}}(t,e);var s=t.dataset[n];return s&&t.setAttribute("srcset",s),void(a&&t.setAttribute("src",a))}"IFRAME"!==o?a&&(t.style.backgroundImage='url("'+a+'")'):a&&t.setAttribute("src",a)},o=function(t,e){t&&t(e)},a=function(t,e,i){t.removeEventListener("load",e),t.removeEventListener("error",i)},s=function(t,e,i){var n=t.target;n.classList.remove(i.class_loading),n.classList.add(e?i.class_loaded:i.class_error),o(e?i.callback_load:i.callback_error,n)},r=function(t,e){["IMG","IFRAME"].indexOf(t.tagName)>-1&&(function(t,e){var i=function i(o){s(o,!0,e),a(t,i,n)},n=function n(o){s(o,!1,e),a(t,i,n)};t.addEventListener("load",i),t.addEventListener("error",n)}(t,e),t.classList.add(e.class_loading)),n(t,e),t.dataset.wasProcessed=!0,o(e.callback_set,t)},l=function(e){this._settings=_extends({},t,e),this._setObserver(),this.update()};l.prototype={_setObserver:function(){var t=this;if("IntersectionObserver"in window){var i=this._settings;this._observer=new IntersectionObserver((function(n){n.forEach((function(e){if(e.isIntersecting){var n=e.target;r(n,i),t._observer.unobserve(n)}})),t._elements=e(t._elements)}),{root:i.container===document?null:i.container,rootMargin:i.threshold+"px"})}},update:function(){var t=this,i=this._settings,n=i.container.querySelectorAll(i.elements_selector);this._elements=e(Array.prototype.slice.call(n)),this._observer?this._elements.forEach((function(e){t._observer.observe(e)})):(this._elements.forEach((function(t){r(t,i)})),this._elements=e(this._elements))},destroy:function(){var t=this;this._observer&&(e(this._elements).forEach((function(e){t._observer.unobserve(e)})),this._observer=null),this._elements=null,this._settings=null}};var d=window.lazyLoadOptions;return d&&function(t,e){if(e.length)for(var n,o=0;n=e[o];o+=1)i(t,n);else i(t,e)}(l,d),l})),function(t){"undefined"!=typeof module&&module.exports?module.exports=t:t(djCore,window,document)}((function(t){var e,i,n,o,a,s,r,l,d,c,u,h,f,p,m,g,v,x,y,b,w,_,C,S,T,j,B,k,M,I,D,E,A,z,L,O,R,W,H,P,N,F,U,Y,X,$,q,V,G,K,J,Q,Z,tt,et,it,nt,ot,at;nt="function"==typeof define&&define.amd,ot="undefined"!=typeof module&&module.exports,at="https:"==document.location.protocol?"https:":"http:",nt||(ot?require("djcore-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+at+"//cdnjs.cloudflare.com/ajax/libs/djcore-mousewheel/3.1.13/djcore.mousewheel.min.js%3E%3C/script%3E"))),i="dscroll",n="mCS",o=".dscroll",a={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,r={},l=window.attachEvent&&!window.addEventListener?1:0,d=!1,c=["d_dragger_onDrag","dscrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","d_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(e){e=t.extend(!0,{},a,e);var i=h.call(this);if(e.live){var l=e.liveSelector||this.selector||o,d=t(l);if("off"===e.live)return void p(l);r[l]=setTimeout((function(){d.dscroll(e),"once"===e.live&&d.length&&p(l)}),500)}else p(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),f(e),t(i).each((function(){var i=t(this);if(!i.data(n)){i.data(n,{idx:++s,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=i.data(n),a=o.opt,r=i.data("mcs-axis"),l=i.data("mcs-scrollbar-position"),d=i.data("mcs-theme");r&&(a.axis=r),l&&(a.scrollbarPosition=l),d&&(a.theme=d,f(a)),v.call(this),o&&a.callbacks.onCreate&&"function"==typeof a.callbacks.onCreate&&a.callbacks.onCreate.call(this),t("#mCSB_"+o.idx+"_container img:not(."+c[2]+")").addClass(c[2]),u.update.call(null,i)}}))},update:function(e,i){var o=e||h.call(this);return t(o).each((function(){var e=t(this);if(e.data(n)){var o=e.data(n),a=o.opt,s=t("#mCSB_"+o.idx+"_container"),r=t("#mCSB_"+o.idx),l=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];if(!s.length)return;o.tweenRunning&&$(e),i&&o&&a.callbacks.onBeforeUpdate&&"function"==typeof a.callbacks.onBeforeUpdate&&a.callbacks.onBeforeUpdate.call(this),e.hasClass(c[3])&&e.removeClass(c[3]),e.hasClass(c[4])&&e.removeClass(c[4]),r.css("max-height","none"),r.height()!==e.height()&&r.css("max-height",e.height()),y.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||s.css("width",x(s)),o.overflowed=S.call(this),k.call(this),a.autoDraggerLength&&w.call(this),_.call(this),j.call(this);var d=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)];"x"!==a.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?T.call(this):(q(e,d[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(T.call(this),"y"===a.axis?B.call(this):"yx"===a.axis&&o.overflowed[1]&&q(e,d[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?T.call(this):(q(e,d[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(T.call(this),"x"===a.axis?B.call(this):"yx"===a.axis&&o.overflowed[0]&&q(e,d[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&o&&(2===i&&a.callbacks.onImageLoad&&"function"==typeof a.callbacks.onImageLoad?a.callbacks.onImageLoad.call(this):3===i&&a.callbacks.onSelectorChange&&"function"==typeof a.callbacks.onSelectorChange?a.callbacks.onSelectorChange.call(this):a.callbacks.onUpdate&&"function"==typeof a.callbacks.onUpdate&&a.callbacks.onUpdate.call(this)),Y.call(this)}}))},scrollTo:function(e,i){if(void 0!==e&&null!=e){var o=h.call(this);return t(o).each((function(){var o=t(this);if(o.data(n)){var a=o.data(n),s=a.opt,r={trigger:"external",scrollInertia:s.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},r,i),d=F.call(this,e),c=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;d[0]=U.call(this,d[0],"y"),d[1]=U.call(this,d[1],"x"),l.moveDragger&&(d[0]*=a.scrollRatio.y,d[1]*=a.scrollRatio.x),l.dur=it()?0:c,setTimeout((function(){null!==d[0]&&void 0!==d[0]&&"x"!==s.axis&&a.overflowed[0]&&(l.dir="y",l.overwrite="all",q(o,d[0].toString(),l)),null!==d[1]&&void 0!==d[1]&&"y"!==s.axis&&a.overflowed[1]&&(l.dir="x",l.overwrite="none",q(o,d[1].toString(),l))}),l.timeout)}}))}},stop:function(){var e=h.call(this);return t(e).each((function(){var e=t(this);e.data(n)&&$(e)}))},disable:function(e){var i=h.call(this);return t(i).each((function(){var i=t(this);i.data(n)&&(i.data(n),Y.call(this,"remove"),B.call(this),e&&T.call(this),k.call(this,!0),i.addClass(c[3]))}))},destroy:function(){var e=h.call(this);return t(e).each((function(){var o=t(this);if(o.data(n)){var a=o.data(n),s=a.opt,r=t("#mCSB_"+a.idx),l=t("#mCSB_"+a.idx+"_container"),d=t(".mCSB_"+a.idx+"_scrollbar");s.live&&p(s.liveSelector||t(e).selector),Y.call(this,"remove"),B.call(this),T.call(this),o.removeData(n),J(this,"mcs"),d.remove(),l.find("img."+c[2]).removeClass(c[2]),r.replaceWith(l.contents()),o.removeClass(i+" _"+n+"_"+a.idx+" "+c[6]+" "+c[7]+" "+c[5]+" "+c[3]).addClass(c[4])}}))}},h=function(){return"object"!=typeof t(this)||t(this).length<1?o:this},f=function(e){var i=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],n=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],a=["minimal","minimal-dark"],s=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,i)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,n)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,o)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,a)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,s)>-1?"outside":e.scrollbarPosition},p=function(t){r[t]&&(clearTimeout(r[t]),J(r,t))},m=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var e=t(this),o=e.data(n),a=o.opt,s=a.autoExpandScrollbar?" "+c[1]+"_expand":"",r=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='dscrollTools mCSB_"+o.idx+"_scrollbar mCS-"+a.theme+" dscrollTools_vertical"+s+"'><div class='"+c[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='d_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='d_dragger_bar' /></div><div class='d_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='dscrollTools mCSB_"+o.idx+"_scrollbar mCS-"+a.theme+" dscrollTools_horizontal"+s+"'><div class='"+c[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='d_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='d_dragger_bar' /></div><div class='d_draggerRail' /></div></div>"],l="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",d="yx"===a.axis?r[0]+r[1]:"x"===a.axis?r[1]:r[0],u="yx"===a.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=a.autoHideScrollbar?" "+c[6]:"",f="x"!==a.axis&&"rtl"===o.langDir?" "+c[7]:"";a.setWidth&&e.css("width",a.setWidth),a.setHeight&&e.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===o.langDir?"989999px":a.setLeft,e.addClass(i+" _"+n+"_"+o.idx+h+f).wrapInner("<div id='mCSB_"+o.idx+"' class='dscrollBox mCS-"+a.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir="+o.langDir+" /></div>");var p=t("#mCSB_"+o.idx),m=t("#mCSB_"+o.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||m.css("width",x(m)),"outside"===a.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),p.addClass("mCSB_outside").after(d)):(p.addClass("mCSB_inside").append(d),m.wrap(u)),b.call(this);var g=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(e){var i=[e[0].scrollWidth,Math.max.apply(Math,e.children().map((function(){return t(this).outerWidth(!0)})).get())],n=e.parent().width();return i[0]>n?i[0]:i[1]>n?i[1]:"100%"},y=function(){var e=t(this).data(n),i=e.opt,o=t("#mCSB_"+e.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(o[0].scrollWidth);3===i.advanced.autoExpandHorizontalScroll||2!==i.advanced.autoExpandHorizontalScroll&&a>o.parent().width()?o.css({width:a,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var e=t(this).data(n),i=e.opt,o=t(".mCSB_"+e.idx+"_scrollbar:first"),a=tt(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+c[13]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+c[14]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+c[15]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+c[16]+"' oncontextmenu='return false;' "+a+" />"],r=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&o.prepend(r[0]).append(r[1]).next(".dscrollTools").prepend(r[2]).append(r[3])},w=function(){var e=t(this).data(n),i=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),a=[t("#mCSB_"+e.idx+"_dragger_vertical"),t("#mCSB_"+e.idx+"_dragger_horizontal")],s=[i.height()/o.outerHeight(!1),i.width()/o.outerWidth(!1)],r=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],d=l&&r[1]<r[0]?r[0]:r[1],c=l&&r[3]<r[2]?r[2]:r[3];a[0].css({height:d,"max-height":a[0].parent().height()-10}).find(".d_dragger_bar").css({"line-height":r[0]+"px"}),a[1].css({width:c,"max-width":a[1].parent().width()-10})},_=function(){var e=t(this).data(n),i=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),a=[t("#mCSB_"+e.idx+"_dragger_vertical"),t("#mCSB_"+e.idx+"_dragger_horizontal")],s=[o.outerHeight(!1)-i.height(),o.outerWidth(!1)-i.width()],r=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];e.scrollRatio={y:r[0],x:r[1]}},C=function(t,e,i){var n=i?c[0]+"_expanded":"",o=t.closest(".dscrollTools");"active"===e?(t.toggleClass(c[0]+" "+n),o.toggleClass(c[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(c[0]),o.removeClass(c[1])):(t.addClass(c[0]),o.addClass(c[1])))},S=function(){var e=t(this).data(n),i=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),a=null==e.overflowed?o.height():o.outerHeight(!1),s=null==e.overflowed?o.width():o.outerWidth(!1),r=o[0].scrollHeight,l=o[0].scrollWidth;return r>a&&(a=r),l>s&&(s=l),[a>i.height(),s>i.width()]},T=function(){var e=t(this),i=e.data(n),o=i.opt,a=t("#mCSB_"+i.idx),s=t("#mCSB_"+i.idx+"_container"),r=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if($(e),("x"!==o.axis&&!i.overflowed[0]||"y"===o.axis&&i.overflowed[0])&&(r[0].add(s).css("top",0),q(e,"_resetY")),"y"!==o.axis&&!i.overflowed[1]||"x"===o.axis&&i.overflowed[1]){var l=dx=0;"rtl"===i.langDir&&(l=a.width()-s.outerWidth(!1),dx=Math.abs(l/i.scrollRatio.x)),s.css("left",l),r[1].css("left",dx),q(e,"_resetX")}},j=function(){var e=t(this),i=e.data(n),o=i.opt;if(!i.bindEvents){if(I.call(this),o.contentTouchScroll&&D.call(this),E.call(this),o.mouseWheel.enable){function a(){s=setTimeout((function(){t.event.special.mousewheel?(clearTimeout(s),A.call(e[0])):a()}),100)}var s;a()}O.call(this),W.call(this),o.advanced.autoScrollOnFocus&&R.call(this),o.scrollButtons.enable&&H.call(this),o.keyboard.enable&&P.call(this),i.bindEvents=!0}},B=function(){var e=t(this),i=e.data(n),o=i.opt,a=n+"_"+i.idx,s=".mCSB_"+i.idx+"_scrollbar",r=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+s+" ."+c[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+s+">a"),l=t("#mCSB_"+i.idx+"_container");o.advanced.releaseDraggableSelectors&&r.add(t(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&r.add(t(o.advanced.extraDraggableSelectors)),i.bindEvents&&(t(document).add(t(!z()||top.document)).unbind("."+a),r.each((function(){t(this).unbind("."+a)})),clearTimeout(e[0]._focusTimeout),J(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),J(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),J(l[0],"onCompleteTimeout"),i.bindEvents=!1)},k=function(e){var i=t(this),o=i.data(n),a=o.opt,s=t("#mCSB_"+o.idx+"_container_wrapper"),r=s.length?s:t("#mCSB_"+o.idx+"_container"),l=[t("#mCSB_"+o.idx+"_scrollbar_vertical"),t("#mCSB_"+o.idx+"_scrollbar_horizontal")],d=[l[0].find(".d_dragger"),l[1].find(".d_dragger")];"x"!==a.axis&&(o.overflowed[0]&&!e?(l[0].add(d[0]).add(l[0].children("a")).css("display","block"),r.removeClass(c[8]+" "+c[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&d[0].css("display","none"),r.removeClass(c[10])):(l[0].css("display","none"),r.addClass(c[10])),r.addClass(c[8]))),"y"!==a.axis&&(o.overflowed[1]&&!e?(l[1].add(d[1]).add(l[1].children("a")).css("display","block"),r.removeClass(c[9]+" "+c[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&d[1].css("display","none"),r.removeClass(c[11])):(l[1].css("display","none"),r.addClass(c[11])),r.addClass(c[9]))),o.overflowed[0]||o.overflowed[1]?i.removeClass(c[5]):i.addClass(c[5])},M=function(e){var i=e.type,n=e.target.ownerDocument!==document?[t(frameElement).offset().top,t(frameElement).offset().left]:null,o=z()&&e.target.ownerDocument!==top.document?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(i){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[e.originalEvent.pageY-n[0]+o[0],e.originalEvent.pageX-n[1]+o[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],s=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[a.screenY,a.screenX,s>1]:[a.pageY,a.pageX,s>1];default:return n?[e.pageY-n[0]+o[0],e.pageX-n[1]+o[1],!1]:[e.pageY,e.pageX,!1]}},I=function(){var e,i,o,a=t(this),s=a.data(n),r=s.opt,c=n+"_"+s.idx,u=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],h=t("#mCSB_"+s.idx+"_container"),f=t("#"+u[0]+",#"+u[1]),p=r.advanced.releaseDraggableSelectors?f.add(t(r.advanced.releaseDraggableSelectors)):f,m=r.advanced.extraDraggableSelectors?t(!z()||top.document).add(t(r.advanced.extraDraggableSelectors)):t(!z()||top.document);function g(t){var e=h.find("iframe");if(e.length){var i=t?"auto":"none";e.css("pointer-events",i)}}function v(t,i,n,o){if(h[0].idleTimer=r.scrollInertia<233?250:0,e.attr("id")===u[1])var l="x",d=(e[0].offsetLeft-i+o)*s.scrollRatio.x;else l="y",d=(e[0].offsetTop-t+n)*s.scrollRatio.y;q(a,d.toString(),{dir:l,drag:!0})}f.bind("mousedown."+c+" touchstart."+c+" pointerdown."+c+" MSPointerDown."+c,(function(n){if(n.stopImmediatePropagation(),n.preventDefault(),Q(n)){d=!0,l&&(document.onselectstart=function(){return!1}),g(!1),$(a);var s=(e=t(this)).offset(),c=M(n)[0]-s.top,u=M(n)[1]-s.left,h=e.height()+s.top,f=e.width()+s.left;c<h&&c>0&&u<f&&u>0&&(i=c,o=u),C(e,"active",r.autoExpandScrollbar)}})).bind("touchmove."+c,(function(t){t.stopImmediatePropagation(),t.preventDefault();var n=e.offset(),a=M(t)[0]-n.top,s=M(t)[1]-n.left;v(i,o,a,s)})),t(document).add(m).bind("mousemove."+c+" pointermove."+c+" MSPointerMove."+c,(function(t){if(e){var n=e.offset(),a=M(t)[0]-n.top,s=M(t)[1]-n.left;if(i===a&&o===s)return;v(i,o,a,s)}})).add(p).bind("mouseup."+c+" touchend."+c+" pointerup."+c+" MSPointerUp."+c,(function(t){e&&(C(e,"active",r.autoExpandScrollbar),e=null),d=!1,l&&(document.onselectstart=null),g(!0)}))},D=function(){var i,o,a,s,r,l,c,u,h,f,p,m,g,v,x=t(this),y=x.data(n),b=y.opt,w=n+"_"+y.idx,_=t("#mCSB_"+y.idx),C=t("#mCSB_"+y.idx+"_container"),S=[t("#mCSB_"+y.idx+"_dragger_vertical"),t("#mCSB_"+y.idx+"_dragger_horizontal")],T=[],j=[],B=0,k="yx"===b.axis?"none":"all",I=[],D=C.find("iframe"),E=["touchstart."+w+" pointerdown."+w+" MSPointerDown."+w,"touchmove."+w+" pointermove."+w+" MSPointerMove."+w,"touchend."+w+" pointerup."+w+" MSPointerUp."+w],A=void 0!==document.body.style.touchAction;function L(t){if(!Z(t)||d||M(t)[2])e=0;else{e=1,g=0,v=0,i=1,x.removeClass("mCS_touch_action");var n=C.offset();o=M(t)[0]-n.top,a=M(t)[1]-n.left,I=[M(t)[0],M(t)[1]]}}function O(t){if(Z(t)&&!d&&!M(t)[2]&&(b.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!v||g)&&i)){c=G();var e=_.offset(),n=M(t)[0]-e.top,s=M(t)[1]-e.left,r="mcsLinearOut";if(T.push(n),j.push(s),I[2]=Math.abs(M(t)[0]-I[0]),I[3]=Math.abs(M(t)[1]-I[1]),y.overflowed[0])var l=S[0].parent().height()-S[0].height(),u=o-n>0&&n-o>-l*y.scrollRatio.y&&(2*I[3]<I[2]||"yx"===b.axis);if(y.overflowed[1])var h=S[1].parent().width()-S[1].width(),f=a-s>0&&s-a>-h*y.scrollRatio.x&&(2*I[2]<I[3]||"yx"===b.axis);u||f?(A||t.preventDefault(),g=1):(v=1,x.addClass("mCS_touch_action")),A&&t.preventDefault(),p="yx"===b.axis?[o-n,a-s]:"x"===b.axis?[null,a-s]:[o-n,null],C[0].idleTimer=250,y.overflowed[0]&&P(p[0],B,r,"y","all",!0),y.overflowed[1]&&P(p[1],B,r,"x",k,!0)}}function R(t){if(!Z(t)||d||M(t)[2])e=0;else{e=1,t.stopImmediatePropagation(),$(x),l=G();var i=_.offset();s=M(t)[0]-i.top,r=M(t)[1]-i.left,T=[],j=[]}}function W(t){if(Z(t)&&!d&&!M(t)[2]){i=0,t.stopImmediatePropagation(),g=0,v=0,u=G();var e=_.offset(),n=M(t)[0]-e.top,o=M(t)[1]-e.left;if(!(u-c>30)){var a="mcsEaseOut",x=(f=1e3/(u-l))<2.5,w=x?[T[T.length-2],j[j.length-2]]:[0,0];h=x?[n-w[0],o-w[1]]:[n-s,o-r];var S=[Math.abs(h[0]),Math.abs(h[1])];f=x?[Math.abs(h[0]/4),Math.abs(h[1]/4)]:[f,f];var B=[Math.abs(C[0].offsetTop)-h[0]*H(S[0]/f[0],f[0]),Math.abs(C[0].offsetLeft)-h[1]*H(S[1]/f[1],f[1])];p="yx"===b.axis?[B[0],B[1]]:"x"===b.axis?[null,B[1]]:[B[0],null],m=[4*S[0]+b.scrollInertia,4*S[1]+b.scrollInertia];var I=parseInt(b.contentTouchScroll)||0;p[0]=S[0]>I?p[0]:0,p[1]=S[1]>I?p[1]:0,y.overflowed[0]&&P(p[0],m[0],a,"y",k,!1),y.overflowed[1]&&P(p[1],m[1],a,"x",k,!1)}}}function H(t,e){var i=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?i[0]:i[3]:t>60?e>3?i[3]:i[2]:t>30?e>8?i[1]:e>6?i[0]:e>4?e:i[2]:e>8?e:i[3]}function P(t,e,i,n,o,a){t&&q(x,t.toString(),{dur:e,scrollEasing:i,dir:n,overwrite:o,drag:a})}C.bind(E[0],(function(t){L(t)})).bind(E[1],(function(t){O(t)})),_.bind(E[0],(function(t){R(t)})).bind(E[2],(function(t){W(t)})),D.length&&D.each((function(){t(this).load((function(){z(this)&&t(this.contentDocument||this.contentWindow.document).bind(E[0],(function(t){L(t),R(t)})).bind(E[1],(function(t){O(t)})).bind(E[2],(function(t){W(t)}))}))}))},E=function(){var i,o=t(this),a=o.data(n),s=a.opt,r=a.sequential,l=n+"_"+a.idx,c=t("#mCSB_"+a.idx+"_container"),u=c.parent();function h(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function f(t,e,n){r.type=n&&i?"stepped":"stepless",r.scrollAmount=10,N(o,t,e,"mcsLinearOut",n?60:null)}c.bind("mousedown."+l,(function(t){e||i||(i=1,d=!0)})).add(document).bind("mousemove."+l,(function(t){if(!e&&i&&h()){var n=c.offset(),o=M(t)[0]-n.top+c[0].offsetTop,l=M(t)[1]-n.left+c[0].offsetLeft;o>0&&o<u.height()&&l>0&&l<u.width()?r.step&&f("off",null,"stepped"):("x"!==s.axis&&a.overflowed[0]&&(o<0?f("on",38):o>u.height()&&f("on",40)),"y"!==s.axis&&a.overflowed[1]&&(l<0?f("on",37):l>u.width()&&f("on",39)))}})).bind("mouseup."+l+" dragend."+l,(function(t){e||(i&&(i=0,f("off",null)),d=!1)}))},A=function(){if(t(this).data(n)){var e=t(this),i=e.data(n),o=i.opt,a=n+"_"+i.idx,s=t("#mCSB_"+i.idx),r=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],d=t("#mCSB_"+i.idx+"_container").find("iframe");d.length&&d.each((function(){t(this).load((function(){z(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,(function(t,e){c(t,e)}))}))})),s.bind("mousewheel."+a,(function(t,e){c(t,e)}))}function c(n,a){if($(e),!L(e,n.target)){var d="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):l&&n.deltaFactor<100?100:n.deltaFactor||100,c=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var u="x",h=[Math.round(d*i.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?h[1]:h[0]>=s.width()?.9*s.width():h[0],p=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetLeft),m=r[1][0].offsetLeft,g=r[1].parent().width()-r[1].width(),v=n.deltaX||n.deltaY||a;else u="y",h=[Math.round(d*i.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?h[1]:h[0]>=s.height()?.9*s.height():h[0],p=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetTop),m=r[0][0].offsetTop,g=r[0].parent().height()-r[0].height(),v=n.deltaY||a;"y"===u&&!i.overflowed[0]||"x"===u&&!i.overflowed[1]||((o.mouseWheel.invert||n.webkitDirectionInvertedFromDevice)&&(v=-v),o.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==m||v<0&&m!==g||o.mouseWheel.preventDefault)&&(n.stopImmediatePropagation(),n.preventDefault()),n.deltaFactor<2&&!o.mouseWheel.normalizeDelta&&(f=n.deltaFactor,c=17),q(e,(p-v*f).toString(),{dir:u,dur:c}))}}},z=function(t){var e=null;if(t){try{e=(t.contentDocument||t.contentWindow.document).body.innerHTML}catch(t){}return null!==e}try{e=top.document.body.innerHTML}catch(t){}return null!==e},L=function(e,i){var o=i.nodeName.toLowerCase(),a=e.data(n).opt.mouseWheel.disableOver,s=["select","textarea"];return t.inArray(o,a)>-1&&!(t.inArray(o,s)>-1&&!t(i).is(":focus"))},O=function(){var e,i=t(this),o=i.data(n),a=n+"_"+o.idx,s=t("#mCSB_"+o.idx+"_container"),r=s.parent();t(".mCSB_"+o.idx+"_scrollbar ."+c[12]).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,(function(i){d=!0,t(i.target).hasClass("d_dragger")||(e=1)})).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,(function(t){d=!1})).bind("click."+a,(function(n){if(e&&(e=0,t(n.target).hasClass(c[12])||t(n.target).hasClass("d_draggerRail"))){$(i);var a=t(this),l=a.find(".d_dragger");if(a.parent(".dscrollTools_horizontal").length>0){if(!o.overflowed[1])return;var d="x",u=n.pageX>l.offset().left?-1:1,h=Math.abs(s[0].offsetLeft)-u*(.9*r.width())}else{if(!o.overflowed[0])return;d="y",u=n.pageY>l.offset().top?-1:1,h=Math.abs(s[0].offsetTop)-u*(.9*r.height())}q(i,h.toString(),{dir:d,scrollEasing:"mcsEaseInOut"})}}))},R=function(){var e=t(this),i=e.data(n),o=i.opt,a=n+"_"+i.idx,s=t("#mCSB_"+i.idx+"_container"),r=s.parent();s.bind("focusin."+a,(function(i){var n=t(document.activeElement),a=s.find(".dscrollBox").length,l=0;n.is(o.advanced.autoScrollOnFocus)&&($(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=a?(l+17)*a:0,e[0]._focusTimeout=setTimeout((function(){var t=[et(n)[0],et(n)[1]],i=[s[0].offsetTop,s[0].offsetLeft],a=[i[0]+t[0]>=0&&i[0]+t[0]<r.height()-n.outerHeight(!1),i[1]+t[1]>=0&&i[0]+t[1]<r.width()-n.outerWidth(!1)],d="yx"!==o.axis||a[0]||a[1]?"all":"none";"x"===o.axis||a[0]||q(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:d,dur:l}),"y"===o.axis||a[1]||q(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:d,dur:l})}),e[0]._focusTimer))}))},W=function(){var e=t(this).data(n),i=n+"_"+e.idx,o=t("#mCSB_"+e.idx+"_container").parent();o.bind("scroll."+i,(function(i){0===o.scrollTop()&&0===o.scrollLeft()||t(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")}))},H=function(){var e=t(this),i=e.data(n),o=i.opt,a=i.sequential,s=n+"_"+i.idx,r=".mCSB_"+i.idx+"_scrollbar";t(r+">a").bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s+" mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s+" mouseout."+s+" pointerout."+s+" MSPointerOut."+s+" click."+s,(function(n){if(n.preventDefault(),Q(n)){var s=t(this).attr("class");switch(a.type=o.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;d=!0,i.tweenRunning=!1,r("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;d=!1,a.dir&&r("off",s);break;case"click":if("stepped"!==a.type||i.tweenRunning)return;r("on",s)}}function r(t,i){a.scrollAmount=o.scrollButtons.scrollAmount,N(e,t,i)}}))},P=function(){var e=t(this),i=e.data(n),o=i.opt,a=i.sequential,s=n+"_"+i.idx,r=t("#mCSB_"+i.idx),l=t("#mCSB_"+i.idx+"_container"),d=l.parent(),c="input,textarea,select,datalist,keygen,[contenteditable='true']",u=l.find("iframe"),h=["blur."+s+" keydown."+s+" keyup."+s];function f(n){switch(n.type){case"blur":i.tweenRunning&&a.dir&&p("off",null);break;case"keydown":case"keyup":var s=n.keyCode?n.keyCode:n.which,r="on";if("x"!==o.axis&&(38===s||40===s)||"y"!==o.axis&&(37===s||39===s)){if((38===s||40===s)&&!i.overflowed[0]||(37===s||39===s)&&!i.overflowed[1])return;"keyup"===n.type&&(r="off"),t(document.activeElement).is(c)||(n.preventDefault(),n.stopImmediatePropagation(),p(r,s))}else if(33===s||34===s){if((i.overflowed[0]||i.overflowed[1])&&(n.preventDefault(),n.stopImmediatePropagation()),"keyup"===n.type){$(e);var u=34===s?-1:1;if("x"===o.axis||"yx"===o.axis&&i.overflowed[1]&&!i.overflowed[0])var h="x",f=Math.abs(l[0].offsetLeft)-u*(.9*d.width());else h="y",f=Math.abs(l[0].offsetTop)-u*(.9*d.height());q(e,f.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else 35!==s&&36!==s||t(document.activeElement).is(c)||((i.overflowed[0]||i.overflowed[1])&&(n.preventDefault(),n.stopImmediatePropagation()),"keyup"!==n.type)||("x"===o.axis||"yx"===o.axis&&i.overflowed[1]&&!i.overflowed[0]?(h="x",f=35===s?Math.abs(d.width()-l.outerWidth(!1)):0):(h="y",f=35===s?Math.abs(d.height()-l.outerHeight(!1)):0),q(e,f.toString(),{dir:h,scrollEasing:"mcsEaseInOut"}))}function p(t,n){a.type=o.keyboard.scrollType,a.scrollAmount=o.keyboard.scrollAmount,"stepped"===a.type&&i.tweenRunning||N(e,t,n)}}u.length&&u.each((function(){t(this).load((function(){z(this)&&t(this.contentDocument||this.contentWindow.document).bind(h[0],(function(t){f(t)}))}))})),r.attr("tabindex","0").bind(h[0],(function(t){f(t)}))},N=function(e,i,o,a,s){var r=e.data(n),l=r.opt,d=r.sequential,u=t("#mCSB_"+r.idx+"_container"),h="stepped"===d.type,f=l.scrollInertia<26?26:l.scrollInertia,p=l.scrollInertia<1?17:l.scrollInertia;switch(i){case"on":if(d.dir=[o===c[16]||o===c[15]||39===o||37===o?"x":"y",o===c[13]||o===c[15]||38===o||37===o?-1:1],$(e),tt(o)&&"stepped"===d.type)return;m(h);break;case"off":g(),(h||r.tweenRunning&&d.dir)&&m(!0)}function m(t){l.snapAmount&&(d.scrollAmount=l.snapAmount instanceof Array?"x"===d.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var i="stepped"!==d.type,n=s||(t?i?f/1.5:p:1e3/60),o=t?i?7.5:40:2.5,c=[Math.abs(u[0].offsetTop),Math.abs(u[0].offsetLeft)],h=[r.scrollRatio.y>10?10:r.scrollRatio.y,r.scrollRatio.x>10?10:r.scrollRatio.x],g="x"===d.dir[0]?c[1]+d.dir[1]*(h[1]*o):c[0]+d.dir[1]*(h[0]*o),v="x"===d.dir[0]?c[1]+d.dir[1]*parseInt(d.scrollAmount):c[0]+d.dir[1]*parseInt(d.scrollAmount),x="auto"!==d.scrollAmount?v:g,y=a||(t?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),b=!!t;t&&n<17&&(x="x"===d.dir[0]?c[1]:c[0]),q(e,x.toString(),{dir:d.dir[0],scrollEasing:y,dur:n,onComplete:b}),t?d.dir=!1:(clearTimeout(d.step),d.step=setTimeout((function(){m()}),n))}function g(){clearTimeout(d.step),J(d,"step"),$(e)}},F=function(e){var i=t(this).data(n).opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=e.length>1?[e[0],e[1]]:"x"===i.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===i.axis?null:e,o[1]=e.x?e.x:e.y||"y"===i.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},U=function(e,i){if(null!=e&&void 0!==e){var o=t(this),a=o.data(n),s=a.opt,r=t("#mCSB_"+a.idx+"_container"),l=r.parent(),d=typeof e;i||(i="x"===s.axis?"x":"y");var c="x"===i?r.outerWidth(!1):r.outerHeight(!1),h="x"===i?r[0].offsetLeft:r[0].offsetTop,f="x"===i?"left":"top";switch(d){case"function":return e();case"object":if(!(m=e.djcore?e:t(e)).length)return;return"x"===i?et(m)[1]:et(m)[0];case"string":case"number":if(tt(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(c*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(h-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var p=h+parseInt(e.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==e.indexOf("px")&&tt(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-r.outerHeight(!1));if("right"===e)return Math.abs(l.width()-r.outerWidth(!1));if("first"===e||"last"===e){var m=r.find(":"+e);return"x"===i?et(m)[1]:et(m)[0]}return t(e).length?"x"===i?et(t(e))[1]:et(t(e))[0]:(r.css(f,e),void u.update.call(null,o[0]))}}},Y=function(e){var i=t(this),o=i.data(n),a=o.opt,s=t("#mCSB_"+o.idx+"_container");if(e)return clearTimeout(s[0].autoUpdate),void J(s[0],"autoUpdate");function r(){clearTimeout(s[0].autoUpdate),0!==i.parents("html").length?s[0].autoUpdate=setTimeout((function(){return a.advanced.updateOnSelectorChange&&(o.poll.change.n=d(),o.poll.change.n!==o.poll.change.o)?(o.poll.change.o=o.poll.change.n,void h(3)):a.advanced.updateOnContentResize&&(o.poll.size.n=i[0].scrollHeight+i[0].scrollWidth+s[0].offsetHeight+i[0].offsetHeight+i[0].offsetWidth,o.poll.size.n!==o.poll.size.o)?(o.poll.size.o=o.poll.size.n,void h(1)):!a.advanced.updateOnImageLoad||"auto"===a.advanced.updateOnImageLoad&&"y"===a.axis||(o.poll.img.n=s.find("img").length,o.poll.img.n===o.poll.img.o)?void((a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&r()):(o.poll.img.o=o.poll.img.n,void s.find("img").each((function(){l(this)})))}),a.advanced.autoUpdateTimeout):i=null}function l(e){if(t(e).hasClass(c[2]))h();else{var i=new Image;i.onload=n(i,o),i.src=e.src}function n(t,e){return function(){return e.apply(t,arguments)}}function o(){this.onload=null,t(e).addClass(c[2]),h(2)}}function d(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var t=0,e=s.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&e.length>0&&e.each((function(){t+=this.offsetHeight+this.offsetWidth})),t}function h(t){clearTimeout(s[0].autoUpdate),u.update.call(null,i[0],t)}r()},X=function(t,e,i){return Math.round(t/e)*e-i},$=function(e){var i=e.data(n);t("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal").each((function(){K.call(this)}))},q=function(e,i,o){var a=e.data(n),s=a.opt,r={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:s.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=[(o=t.extend(r,o)).dur,o.drag?0:o.dur],d=t("#mCSB_"+a.idx),c=t("#mCSB_"+a.idx+"_container"),u=c.parent(),h=s.callbacks.onTotalScrollOffset?F.call(e,s.callbacks.onTotalScrollOffset):[0,0],f=s.callbacks.onTotalScrollBackOffset?F.call(e,s.callbacks.onTotalScrollBackOffset):[0,0];if(a.trigger=o.trigger,0===u.scrollTop()&&0===u.scrollLeft()||(t(".mCSB_"+a.idx+"_scrollbar").css("visibility","visible"),u.scrollTop(0).scrollLeft(0)),"_resetY"!==i||a.contentReset.y||(T("onOverflowYNone")&&s.callbacks.onOverflowYNone.call(e[0]),a.contentReset.y=1),"_resetX"!==i||a.contentReset.x||(T("onOverflowXNone")&&s.callbacks.onOverflowXNone.call(e[0]),a.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){if(!a.contentReset.y&&e[0].mcs||!a.overflowed[0]||(T("onOverflowY")&&s.callbacks.onOverflowY.call(e[0]),a.contentReset.x=null),!a.contentReset.x&&e[0].mcs||!a.overflowed[1]||(T("onOverflowX")&&s.callbacks.onOverflowX.call(e[0]),a.contentReset.x=null),s.snapAmount){var p=s.snapAmount instanceof Array?"x"===o.dir?s.snapAmount[1]:s.snapAmount[0]:s.snapAmount;i=X(i,p,s.snapOffset)}switch(o.dir){case"x":var m=t("#mCSB_"+a.idx+"_dragger_horizontal"),g="left",v=c[0].offsetLeft,x=[d.width()-c.outerWidth(!1),m.parent().width()-m.width()],y=[i,0===i?0:i/a.scrollRatio.x],b=h[1],w=f[1],_=b>0?b/a.scrollRatio.x:0,S=w>0?w/a.scrollRatio.x:0;break;case"y":m=t("#mCSB_"+a.idx+"_dragger_vertical"),g="top",v=c[0].offsetTop,x=[d.height()-c.outerHeight(!1),m.parent().height()-m.height()],y=[i,0===i?0:i/a.scrollRatio.y],b=h[0],w=f[0],_=b>0?b/a.scrollRatio.y:0,S=w>0?w/a.scrollRatio.y:0}y[1]<0||0===y[0]&&0===y[1]?y=[0,0]:y[1]>=x[1]?y=[x[0],x[1]]:y[0]=-y[0],e[0].mcs||(B(),T("onInit")&&s.callbacks.onInit.call(e[0])),clearTimeout(c[0].onCompleteTimeout),V(m[0],g,Math.round(y[1]),l[1],o.scrollEasing),!a.tweenRunning&&(0===v&&y[0]>=0||v===x[0]&&y[0]<=x[0])||V(c[0],g,Math.round(y[0]),l[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!a.tweenRunning&&(T("onScrollStart")&&(B(),s.callbacks.onScrollStart.call(e[0])),a.tweenRunning=!0,C(m),a.cbOffsets=j())},onUpdate:function(){o.callbacks&&o.onUpdate&&T("whileScrolling")&&(B(),s.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===s.axis&&clearTimeout(c[0].onCompleteTimeout);var t=c[0].idleTimer||0;c[0].onCompleteTimeout=setTimeout((function(){T("onScroll")&&(B(),s.callbacks.onScroll.call(e[0])),T("onTotalScroll")&&y[1]>=x[1]-_&&a.cbOffsets[0]&&(B(),s.callbacks.onTotalScroll.call(e[0])),T("onTotalScrollBack")&&y[1]<=S&&a.cbOffsets[1]&&(B(),s.callbacks.onTotalScrollBack.call(e[0])),a.tweenRunning=!1,c[0].idleTimer=0,C(m,"hide")}),t)}}})}function T(t){return a&&s.callbacks[t]&&"function"==typeof s.callbacks[t]}function j(){return[s.callbacks.alwaysTriggerOffsets||v>=x[0]+b,s.callbacks.alwaysTriggerOffsets||v<=-w]}function B(){var t=[c[0].offsetTop,c[0].offsetLeft],i=[m[0].offsetTop,m[0].offsetLeft],n=[c.outerHeight(!1),c.outerWidth(!1)],a=[d.height(),d.width()];e[0].mcs={content:c,top:t[0],left:t[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(n[0])-a[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(n[1])-a[1])),direction:o.dir}}},V=function(t,e,i,n,o,a,s){t._mTween||(t._mTween={top:{},left:{}});var r,l,d=(s=s||{}).onStart||function(){},c=s.onUpdate||function(){},u=s.onComplete||function(){},h=G(),f=0,p=t.offsetTop,m=t.style,g=t._mTween[e];"left"===e&&(p=t.offsetLeft);var v=i-p;function x(){g.stop||(f||d.call(),f=G()-h,y(),f>=g.time&&(g.time=f>g.time?f+r-(f-g.time):f+r-1,g.time<f+1&&(g.time=f+1)),g.time<n?g.id=l(x):u.call())}function y(){n>0?(g.currVal=_(g.time,p,v,n,o),m[e]=Math.round(g.currVal)+"px"):m[e]=i+"px",c.call()}function b(){r=1e3/60,g.time=f+r,l=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return y(),setTimeout(t,.01)},g.id=l(x)}function w(){null!=g.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(g.id):clearTimeout(g.id),g.id=null)}function _(t,e,i,n,o){switch(o){case"linear":case"mcsLinear":return i*t/n+e;case"mcsLinearOut":return t/=n,t--,i*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=n,-i*(--t*t*t*t-1)+e;case"easeOutStrong":return i*(1-Math.pow(2,-10*t/n))+e;default:var a=(t/=n)*t,s=a*t;return e+i*(.499999999999997*s*a+-2.5*a*a+5.5*s+-6.5*a+4*t)}}g.stop=0,"none"!==a&&w(),b()},G=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var n=e[i];t._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[n].id):clearTimeout(t._mTween[n].id),t._mTween[n].id=null,t._mTween[n].stop=1)}},J=function(t,e){try{delete t[e]}catch(i){t[e]=null}},Q=function(t){return!(t.which&&1!==t.which)},Z=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},tt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},et=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},it=function(){var t=e();return!!t&&document[t];function e(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},t.fn[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i].defaults=a,window[i]=!0,t(window).load((function(){t(o)[i](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var i,n,o=t(e),a=o.parents(".mCSB_container");if(a.length)return i=a.parent(),(n=[a[0].offsetTop,a[0].offsetLeft])[0]+et(o)[0]>=0&&n[0]+et(o)[0]<i.height()-o.outerHeight(!1)&&n[1]+et(o)[1]>=0&&n[1]+et(o)[1]<i.width()-o.outerWidth(!1)},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var i=t(e).data(n);if(i)return i.overflowed[0]||i.overflowed[1]}})}))})),function(t){"use strict";t.fn.dLocationSuggest=function(e){var i=t(this),n=i.hasClass("huyen")?1:0;return i.dSuggest(t.extend({url:djConfig.FRAMEWORK_URL+"widget/location_suggest/"+n+"/"+djUser.skey,allowlocked:!1,idfield:"id",display:"display",multi:!1,maxLength:10,width:250,onRender:function(e,i,n){var o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),a="("+n.replace(o,"\\$1")+")";return i.display=i.display.replace(new RegExp(a,"gi"),"<b>$1</b>"),t.render('<div><a href="javascript:;">{display}</a></div>',i)}},e),"dLocationSuggestDB")}}(djCore),function(t){"use strict";var e=function(t,e){return this.f8(t,e)};e.prototype={element:null,constructor:e,a8:null,c5:function(e){return t.extend({},{url:"",allowlocked:!1,getall:!1,manager:"",idfield:"id",display:"name",maxLength:5,width:260,onRemove:function(t,e,i,n){t.remove(i,n)},onValue:function(t,e,i){return e[t.opt().display].replace(/<.*?>/gi,"").replace(/\s+/gi," ")},onRender:function(e,i,n){return t.render(e.opt().template,i)},onInit:function(){}},this.element.data(),e)},f8:function(e,i){return this.element=t(e),this.a8=this.element.dAutoComplete(this.c5(i)),this},set:function(t){return this.a8.data("$AutoComplete").set(t),this}},t.fn.dSuggest=function(i,n){return void 0===n&&(n="c9"),this.each((function(){var o=t(this),a=o.data(n);a||o.data(n,a=new e(this,i))})).data(n)}}(djCore),function(t){"use strict";t.fn.dUserSuggest=function(e){return t(this).dSuggest(t.extend({url:djConfig.FRAMEWORK_URL+"widget/user_suggest/"+djUser.skey,allowlocked:!1,getall:!1,manager:"",idfield:"id",display:"display",maxLength:5,width:260,onRender:function(e,i,n){var o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),a="("+n.replace(o,"\\$1")+")";return i.display=i.display.replace(new RegExp(a,"gi"),"<b>$1</b>"),i.avatarurl=djConfig.FRAMEWORK_URL+"avatar/"+i.id+"/50",t.render('<img src="{avatarurl}" /><div><a href="javascript:;">{display}</a><p>{jobtitle}</p></div>',i)}},e),"dUserSuggestDB")}}(djCore),function(t){"function"==typeof define&&define.amd?define(["djcore"],t):"object"==typeof exports?module.exports=t(require("djcore")):t(djCore)}((function(t){var e,i=86400,n=3600,o={callback:null,captionSize:0,countdown:!0,countdownAlertLimit:10,displayCaptions:!1,displayDays:0,displayHours:!0,fontFamily:"Verdana, sans-serif",fontSize:0,lang:"en",languages:{},seconds:0,start:!0,theme:"white",width:25,height:30,gap:11,vals:[0,0,0,0,0,0,0,0,0],limits:[9,9,9,2,9,5,9,5,9],iSec:8,iHour:4,tickTimeout:1e3,intervalId:null},a={start:function(e){var i;e&&(r.call(this,e),i=setTimeout(l.bind(this),1e3),this.data("ttStartTime",t.now()),this.data("intervalId",i))},stop:function(){var t=this.data();return t.intervalId&&(clearTimeout(t.intervalId),this.data("intervalId",null)),t},reset:function(t){var e=a.stop.call(this),i=void 0===t?e.seconds:t;this.find("div").css({backgroundPosition:"left center"}),this.find("ul").parent().removeClass("timeTo-alert"),r.call(this,i,!0)}},s={en:{days:"days",hours:"hours",min:"minutes",sec:"seconds"},ru:{days:"дней",hours:"часов",min:"минут",sec:"секунд"},ua:{days:"днiв",hours:"годин",min:"хвилин",sec:"секунд"},de:{days:"Tag",hours:"Uhr",min:"Minuten",sec:"Secunden"},fr:{days:"jours",hours:"heures",min:"minutes",sec:"secondes"},sp:{days:"días",hours:"horas",min:"minutos",sec:"segundos"},it:{days:"giorni",hours:"ore",min:"minuti",sec:"secondi"},nl:{days:"dagen",hours:"uren",min:"minuten",sec:"seconden"},no:{days:"dager",hours:"timer",min:"minutter",sec:"sekunder"},pt:{days:"dias",hours:"horas",min:"minutos",sec:"segundos"},tr:{days:"gün",hours:"saat",min:"dakika",sec:"saniye"}};function r(e,o){var a,s,r,d,c,u,h,f,p,m=this.data(),g=this.find("ul"),v=!1;if(m.vals&&0!==g.length){for(e||(e=m.seconds),m.intervalId&&(v=!0,clearTimeout(m.intervalId)),s=(a=Math.floor(e/i))*i,s+=(r=Math.floor((e-s)/n))*n,u=(a<100?"0"+(a<10?"0":""):"")+a+(r<10?"0":"")+r+((d=Math.floor((e-s)/60))<10?"0":"")+d+((c=e-(s+=60*d))<10?"0":"")+c,h=m.vals.length-1,f=u.length-1;h>=0;h-=1,f-=1)p=parseInt(u.substr(f,1),10),m.vals[h]=p,g.eq(h).children().html(p);(v||o)&&(m.ttStartTime=t.now(),m.intervalId=setTimeout(l.bind(this),1e3),this.data("intervalId",m.intervalId))}}function l(e){var i,n,o,a,s,r,d=this,c=this.find("ul"),u=this.data();if(!u.vals||0===c.length)return u.intervalId&&(clearTimeout(u.intervalId),this.data("intervalId",null)),void(u.callback&&u.callback());void 0===e&&(e=u.iSec),i=u.vals[e],n=c.eq(e),o=n.children(),a=u.countdown?-1:1,o.eq(1).html(i),i+=a,e===u.iSec&&(s=u.tickTimeout,r=t.now()-u.ttStartTime,u.sec+=a,s+=Math.abs(u.seconds-u.sec)*s-r,u.intervalId=setTimeout(l.bind(this),s)),i<0||i>u.limits[e]?(i<0?(i=u.limits[e],e===u.iHour&&u.displayDays>0&&0===u.vals[e-1]&&(i=3)):i=0,e>0&&l.call(this,e-1)):!u.countdown&&e===u.iHour&&u.displayDays>0&&2===u.vals[e-1]&&3===u.vals[e]&&(i=0,l.call(this,e-1)),o.eq(0).html(i),t.support.transition?(n.addClass("transition"),n.css({top:0}),setTimeout((function(){n.removeClass("transition"),o.eq(1).html(i),n.css({top:"-"+u.height+"px"}),a>0||e!==u.iSec||(u.sec===u.countdownAlertLimit&&c.parent().addClass("timeTo-alert"),0===u.sec&&(c.parent().removeClass("timeTo-alert"),u.intervalId&&(clearTimeout(u.intervalId),d.data("intervalId",null)),"function"==typeof u.callback&&u.callback()))}),410)):n.stop().animate({top:0},400,e!==u.iSec?null:function(){o.eq(1).html(i),n.css({top:"-"+u.height+"px"}),a>0||e!==u.iSec||(u.sec===u.countdownAlertLimit?c.parent().addClass("timeTo-alert"):0===u.sec&&(c.parent().removeClass("timeTo-alert"),u.intervalId&&(clearTimeout(u.intervalId),d.data("intervalId",null)),"function"==typeof u.callback&&u.callback()))}),u.vals[e]=i}return void 0===t.support.transition&&(t.support.transition=void 0!==(e=(document.body||document.documentElement).style).transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition),t.fn.timeTo=function(){var e,l,d,c,u,h,f,p,m,g={},v=t.now();for(e=0;e<arguments.length;e+=1)l=arguments[e],0===e&&"string"==typeof l?c=l:"object"==typeof l?"function"==typeof l.getTime?g.timeTo=l:g=t.extend(g,l):"function"==typeof l?g.callback=l:(d=parseInt(l,10),isNaN(d)||(g.seconds=d));if(g.timeTo)g.timeTo.getTime?u=g.timeTo.getTime():"number"==typeof g.timeTo&&(u=g.timeTo),g.seconds=u>v?Math.floor((u-v)/1e3):0;else if(g.time||!g.seconds)if((u=g.time)||(u=new Date),"object"==typeof u&&u.getTime)g.seconds=u.getHours()*n+60*u.getMinutes()+u.getSeconds(),g.countdown=!1;else if("string"==typeof u){for(f=u.split(":"),p=0,m=1;f.length;)p+=f.pop()*m,m*=60;g.seconds=p,g.countdown=!1}return!1!==g.countdown&&g.seconds>i&&void 0===g.displayDays?(h=Math.floor(g.seconds/i),g.displayDays=(h<10?1:h<100&&2)||3):!0===g.displayDays?g.displayDays=3:g.displayDays&&(g.displayDays=g.displayDays>0?Math.floor(g.displayDays):3),this.each((function(){var e,i,n,l,d,u,h,f,p,m,v,x,y,b,w,_,C,S,T,j,B,k=t(this),M=k.data();if(M.intervalId&&(clearInterval(M.intervalId),M.intervalId=null),M.vals)"reset"!==c&&t.extend(M,g);else{if(i=M.opt?M.options:g,e=Object.keys(o).reduce((function(t,e){return Array.isArray(o[e])?t[e]=o[e].slice(0):t[e]=o[e],t}),{}),(M=t.extend(e,i)).options=i,M.height=Math.round(100*M.fontSize/93)||M.height,M.width=Math.round(.8*M.fontSize+.13*M.height)||M.width,M.displayHours=!(!M.displayDays&&!M.displayHours),l={fontFamily:M.fontFamily},M.fontSize>0&&(l.fontSize=M.fontSize+"px"),d=M.languages[M.lang]||s[M.lang],k.addClass("timeTo").addClass("timeTo-"+M.theme).css(l),u='<ul style="left:'+Math.round(M.height/10)+"px; top:-"+M.height+'px"><li>0</li><li>0</li></ul></div>',f='<div class="first"'+(h=M.fontSize?' style="width:'+M.width+"px; height:"+M.height+'px;"':' style=""')+">"+u,p="<div"+h+">"+u,m="<span>:</span>",v=Math.round(2*M.width+3),y=(x=M.captionSize||M.fontSize&&Math.round(.43*M.fontSize))?"font-size:"+x+"px;":"",b=x?' style="'+y+'"':"",w=(M.displayCaptions?(M.displayHours?'<figure style="max-width:'+v+'px">$1<figcaption'+b+">"+d.hours+"</figcaption></figure>"+m:"")+'<figure style="max-width:'+v+'px">$1<figcaption'+b+">"+d.min+"</figcaption></figure>"+m+'<figure style="max-width:'+v+'px">$1<figcaption'+b+">"+d.sec+"</figcaption></figure>":(M.displayHours?"$1"+m:"")+"$1"+m+"$1").replace(/\$1/g,f+p),M.displayDays>0){for(_=.4*M.fontSize||o.gap,C=f,n=M.displayDays-1;n>0;n-=1)C+=1===n?p.replace('">',"margin-right:"+Math.round(_)+'px">'):p;w=(M.displayCaptions?'<figure style="width:'+Math.round(M.width*M.displayDays+_+4)+'px">$1<figcaption style="'+y+"padding-right:"+Math.round(_)+'px">'+d.days+"</figcaption></figure>":"$1").replace(/\$1/,C)+w}k.html(w)}if((S=k.find("div")).length<M.vals.length){for(T=M.vals.length-S.length,j=M.vals,B=M.limits,M.vals=[],M.limits=[],n=0;n<S.length;n+=1)M.vals[n]=j[T+n],M.limits[n]=B[T+n];M.iSec=M.vals.length-1,M.iHour=M.vals.length-5}M.sec=M.seconds,k.data(M),c&&a[c]?a[c].call(k,M.seconds):M.start?a.start.call(k,M.seconds):r.call(k,M.seconds)}))},t})),function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var o,a,s,r,l;for(this.type=e,this.djelement=t(i),this.options=this.getOptions(n),this.enabled=!0,l=(s=this.options.trigger.split(" ")).length;l--;)"click"===(r=s[l])?this.djelement.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!==r&&(o="hover"===r?"mouseenter":"focus",a="hover"===r?"mouseleave":"blur",this.djelement.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.djelement.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=t.extend({},t.fn[this.type].defaults,this.djelement.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i,n=t.fn[this.type].defaults,o={};if(this._options&&t.each(this._options,(function(t,e){n[t]!==e&&(o[t]=e)}),this),!(i=t(e.currentTarget)[this.type](o).data(this.type)).options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout((function(){"in"===i.hoverState&&i.show()}),i.options.delay.show)},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out",this.timeout=setTimeout((function(){"out"===i.hoverState&&i.hide()}),i.options.delay.hide)},show:function(){var e,i,n,o,a,s,r=t.Event("show");if(this.hasContent()&&this.enabled){if(this.djelement.trigger(r),r.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.djelement[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.djelement),i=this.getPosition(),n=e[0].offsetWidth,o=e[0].offsetHeight,a){case"bottom":s={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":s={top:i.top-o,left:i.left+i.width/2-n/2};break;case"left":s={top:i.top+i.height/2-o/2,left:i.left-n};break;case"right":s={top:i.top+i.height/2-o/2,left:i.left+i.width}}this.applyPlacement(s,a),this.djelement.trigger("shown")}},applyPlacement:function(t,e){var i,n,o,a,s=this.tip(),r=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(t).addClass(e).addClass("in"),i=s[0].offsetWidth,n=s[0].offsetHeight,"top"===e&&n!==l&&(t.top=t.top+l-n,a=!0),"bottom"===e||"top"===e?(o=0,t.left<0&&(o=-2*t.left,t.left=0,s.offset(t),i=s[0].offsetWidth,n=s[0].offsetHeight),this.replaceArrow(o-r+i,i,"left")):this.replaceArrow(n-l,n,"top"),a&&s.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var e,i=this.tip(),n=t.Event("hide");if(this.djelement.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),t.support.transition&&this.djtip.hasClass("fade")?(e=setTimeout((function(){i.off(t.support.transition.end).detach()}),500),i.one(t.support.transition.end,(function(){clearTimeout(e),i.detach()}))):i.detach(),this.djelement.trigger("hidden"),this},fixTitle:function(){var t=this.djelement;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.djelement[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.djelement.offset())},getTitle:function(){var t=this.djelement,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.djtip=this.djtip||t(this.options.template)},arrow:function(){return this.djarrow=this.djarrow||this.tip().find(".tooltip-arrow")},validate:function(){this.djelement[0].parentNode||(this.hide(),this.djelement=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().djelement.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each((function(){var n=t(this),o=n.data("tooltip"),a="object"==typeof i&&i;o||n.data("tooltip",o=new e(this,a)),"string"==typeof i&&o[i]()}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.djCore);